{"version":3,"sources":["axios-orders.js","components/Feedback/ErrorModal.js","components/Layout/Layout.js","components/Nav/Nav.js","components/Menu/MenuSelects/MenuSelects.js","components/Menu/Menu.js","components/Order/Commands/Command/Command.js","components/Order/Commands/Commands.js","components/Order/Checkout/CheckoutModal/CheckoutModal.js","components/Order/Checkout/Checkout.js","components/Order/Order.js","containers/salssubs/salssubs.js","App.js","reportWebVitals.js","index.js","context/auth-context.js","components/Feedback/Loader.js","components/Order/Checkout/Summary/Summary.js"],"names":["instance","axios","create","baseURL","process","ErrorModal","props","React","useState","error","open","setOpen","onClose","onOpen","Header","Content","Description","Actions","content","onClick","onClear","color","logoutTimer","Nav","auth","useContext","AuthContext","stackable","inverted","Item","src","alt","as","NavLink","to","exact","isLoggedIn","userId","Menu","position","logout","MenuSelects","Grid","Column","mobile","computer","textAlign","Image","image","size","centered","Label","pointing","price","toFixed","width","Segment","menu","map","fillings","index","id","Command","Button","Group","icon","added","Icon","name","removed","Commands","className","fillingAdded","fillingRemoved","CheckoutModal","Modal","trigger","Summary","chosenFillings","totalPrice","disabled","checkout","Checkout","Order","active","Row","Dimmer","Dimmable","blurring","dimmed","columns","Link","SalsSubs","menuState","setMenuState","errorMessage","errorState","setErrorState","isLoading","loadFailed","loadingState","setLoadingState","useEffect","get","then","response","sortedFillings","data","sort","a","b","catch","errorMsg","message","console","log","location","state","order","orderState","setOrderState","window","history","replaceState","undefined","checkoutDisabled","length","salssubsMenu","Loader","divided","menuIndex","findIndex","filling","orderIndex","count","chosenFilling","push","newPrice","splice","pathname","PreviousOrders","lazy","PlaceOrder","Success","Authenticate","Account","AccountUpdate","Layout","routes","token","setToken","setUserId","tokenExpirationDate","setTokenExpirationDate","useHistory","login","useCallback","uid","expirationDate","Date","getTime","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","storedData","parse","getItem","remainingTime","setTimeout","clearTimeout","path","component","Provider","value","Container","fallback","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","createContext","Loading","summary","verticalAlign"],"mappings":"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","file":"static/js/main.32425786.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL\r\n});\r\n\r\nexport default instance;","import React from 'react';\r\nimport { Button, Modal } from 'semantic-ui-react';\r\n\r\nconst ErrorModal = (props) => {\r\n\r\n    const [open, setOpen] = React.useState(!!props.error);\r\n\r\n    return (\r\n        <Modal\r\n            onClose={() => setOpen(false)}\r\n            onOpen={() => setOpen(true)}\r\n            open={open}\r\n        >\r\n            <Modal.Header>Something went wrong</Modal.Header>\r\n                <Modal.Content>\r\n                    <Modal.Description>\r\n                         <p>{props.error}</p>\r\n                    </Modal.Description>\r\n                </Modal.Content>\r\n            <Modal.Actions>\r\n                <Button\r\n                    content=\"Okay\"\r\n                    onClick={ () => { props.onClear(); setOpen(false); } }\r\n                    color='red'\r\n                />\r\n            </Modal.Actions>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default ErrorModal;","import React, { useState, useEffect, useCallback, Suspense } from \"react\";\r\nimport { Container } from 'semantic-ui-react';\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport Loader from '../Feedback/Loader';\r\n\r\nimport './Layout.css';\r\n\r\nimport Nav from '../Nav/Nav';\r\nimport SalsSubs from '../../containers/salssubs/salssubs';\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst PreviousOrders = React.lazy(() => import  ('../../containers/PreviousOrders/PreviousOrders'));\r\nconst PlaceOrder = React.lazy(() => import  ('../../containers/PlaceOrder/PlaceOrder'));\r\nconst Success = React.lazy(() => import  ('../../containers/PlaceOrder/Success/Success'));\r\nconst Authenticate = React.lazy(() => import  (\"../../containers/Authenticate/Authenticate\"));\r\nconst Account = React.lazy(() => import  (\"../../containers/Account/Account\"));\r\nconst AccountUpdate = React.lazy(() => import  (\"../../containers/Account/AccountUpdate/AccountUpdate\"));\r\n\r\n\r\nlet logoutTimer;\r\n\r\nconst Layout = (props) => {\r\n\r\n  const [token, setToken] = useState(false);\r\n  const [userId, setUserId] = useState(false);\r\n  const [tokenExpirationDate, setTokenExpirationDate] = useState();\r\n  const history = useHistory();\r\n\r\n  const login = useCallback((uid, token, expirationDate) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n    setTokenExpirationDate(tokenExpirationDate);\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({\r\n        userId: uid,\r\n        token: token,\r\n        expiration: tokenExpirationDate.toISOString(),\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setTokenExpirationDate(null);\r\n    setUserId(null);\r\n    localStorage.removeItem(\"userData\");\r\n    history.push(\"/\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if ( storedData && storedData.token && new Date(storedData.expiration) > new Date() ) {\r\n      login(storedData.userId, storedData.token, new Date(storedData.expiration));\r\n    }\r\n  }, [login]);\r\n\r\n  useEffect(() => {\r\n    if (token && tokenExpirationDate) {\r\n      const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\r\n      logoutTimer = setTimeout(logout, remainingTime);\r\n    } else {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, [token, logout, tokenExpirationDate]);\r\n\r\n  let routes;\r\n  if (token) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={SalsSubs} />\r\n        <Route path=\"/orders/:uid\" component={PreviousOrders} />\r\n        <Route path=\"/place-order\" component={PlaceOrder} />\r\n        <Route path=\"/success\" component={Success} />\r\n        <Route path=\"/users/:uid\" component={Account} />\r\n        <Route path=\"/update-account\" component={AccountUpdate} />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={SalsSubs} />\r\n        <Route path=\"/authenticate\" component={Authenticate} />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isLoggedIn: !!token,\r\n        token: token,\r\n        userId: userId,\r\n        login: login,\r\n        logout: logout,\r\n      }}\r\n    >\r\n    <Container>\r\n      <Nav />\r\n      <Suspense fallback={<div><Loader active='true' /></div>}>\r\n    {routes}\r\n    </Suspense>\r\n    </Container>\r\n    </AuthContext.Provider>\r\n  )\r\n};\r\n\r\nexport default Layout;\r\n","import React, { useContext } from \"react\";\r\nimport { Menu } from 'semantic-ui-react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst Nav = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  return (\r\n    <div>\r\n    <Menu color='green' stackable inverted>\r\n    <Menu.Item>\r\n      <img src='images/logo.png' alt='Sals Subs Logo' />\r\n    </Menu.Item>\r\n\r\n    <Menu.Item as={NavLink} to=\"/\" exact>\r\n      Sal's Subs\r\n    </Menu.Item>\r\n\r\n    {auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/orders/${auth.userId}`}>\r\n          Previous Orders\r\n        </Menu.Item>\r\n      )}\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/users/${auth.userId}`}>\r\n          Your Account\r\n        </Menu.Item>\r\n      )}\r\n\r\n{!auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={NavLink} to=\"/authenticate\">\r\n            Signup/Login\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={NavLink} to=\"/\" onClick={auth.logout}>\r\n            Log out\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n\r\n  </Menu>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Nav;","import React from \"react\";\r\nimport { Grid, Image, Label } from 'semantic-ui-react';\r\n\r\nconst MenuSelects = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign='center'>\r\n        <Image src={props.image} alt={props.alt} size='tiny' centered />\r\n        <Label pointing>&euro; {props.price.toFixed(2)} </Label>\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default MenuSelects;\r\n","import React from \"react\";\r\nimport { Grid, Header, Segment } from 'semantic-ui-react';\r\nimport MenuItem from './MenuSelects/MenuSelects';\r\n\r\nconst Menu = (props) => {\r\n  return (\r\n    <Grid.Column width={12}>\r\n            <Segment color='green'>\r\n            <Header as='h2' textAlign='center' color='green'>\r\n                Sal's Subs Menu\r\n            </Header>\r\n        </Segment>\r\n        <Grid>\r\n            {props.menu.map((fillings, index) => {\r\n            return <MenuItem \r\n                key={fillings.id}\r\n                image={fillings.image}\r\n                alt={fillings.alt}\r\n                price={fillings.price}\r\n            />\r\n            })}\r\n        </Grid>\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport { Grid, Button, Icon } from 'semantic-ui-react';\r\n\r\nconst Command = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign='center'>\r\n    <p>{props.alt}</p>\r\n    <Button.Group size='mini'>\r\n        <Button color='green' icon onClick={props.added}>\r\n            <Icon name='plus' />\r\n        </Button>\r\n        <Button color='red' icon onClick={props.removed}>\r\n            <Icon name='minus' />\r\n        </Button>\r\n    </Button.Group>\r\n</Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Command;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport Command from './Command/Command';\r\n\r\nconst Commands = (props) => {\r\n  return (\r\n    <Grid.Column width={8}>\r\n        <Header as='h2' textAlign='center' className='step'>\r\n            Step 1: Choose your fillings\r\n        </Header>\r\n        <Grid>\r\n            {props.menu.map((fillings, index) => {\r\n            return <Command\r\n                key={fillings.id}\r\n                alt={fillings.alt}\r\n                added={() => props.fillingAdded(fillings.id)}\r\n                removed={() => props.fillingRemoved(fillings.id)}\r\n            />\r\n            })}\r\n        </Grid>\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Commands;\r\n","import React, { useState } from \"react\";\r\nimport { Button, Modal } from 'semantic-ui-react';\r\nimport Summary from '../Summary/Summary';\r\n\r\nconst CheckoutModal = (props) => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n  return (\r\n    <Modal\r\n    onClose={() => setOpen(false)}\r\n    onOpen={() => setOpen(true)}\r\n    open={open}\r\n    trigger={<Button color='green' size='large'>Order Now!</Button>}\r\n    >\r\n        <Modal.Header>Confirm your choices:</Modal.Header>\r\n        <Modal.Content>\r\n\r\n          <Summary \r\n              menu = {props.menu}\r\n              chosenFillings = {props.chosenFillings}\r\n              totalPrice = {props.totalPrice}\r\n          />\r\n\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='red' onClick={() => setOpen(false)}>\r\n              Go Back\r\n          </Button>\r\n          <Button color='green' disabled={props.disabled} onClick={ () => { props.checkout(); setOpen(false); } }>\r\n      Check out\r\n          </Button>\r\n        </Modal.Actions>\r\n  </Modal>\r\n  )\r\n};\r\n\r\nexport default CheckoutModal;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport Summary from './Summary/Summary';\r\nimport CheckoutModal from './CheckoutModal/CheckoutModal';\r\n\r\nconst Checkout = (props) => {\r\n  return (\r\n    <Grid.Column width={6} textAlign='right'>\r\n\r\n        <Header as='h2' textAlign='center' className='step'>\r\n            Step 2: Check out \r\n        </Header>\r\n\r\n        <Summary\r\n            menu = {props.menu}\r\n            chosenFillings = {props.chosenFillings}\r\n            totalPrice = {props.totalPrice}\r\n        />\r\n        <CheckoutModal \r\n            menu = {props.menu}\r\n            chosenFillings = {props.chosenFillings}\r\n            totalPrice = {props.totalPrice}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n        />\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useContext } from \"react\";\r\nimport { Grid, Dimmer, Header, Button } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport Commands from './Commands/Commands';\r\nimport Checkout from './Checkout/Checkout';\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst Order = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  let active = !auth.isLoggedIn;\r\n\r\n  \r\n\r\n  return (\r\n    <Grid.Row>\r\n    <Dimmer.Dimmable as={Grid} blurring dimmed={active}>\r\n    <Grid.Row columns={2} centered>\r\n        <Commands menu={props.menu}\r\n        fillingAdded = {props.fillingAdded}\r\n        fillingRemoved = {props.fillingRemoved}\r\n        />\r\n          <Checkout \r\n            menu = {props.menu}\r\n            chosenFillings={props.chosenFillings}\r\n            totalPrice={props.totalPrice}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n          />\r\n    </Grid.Row>\r\n    <Dimmer active={active}>\r\n          <Header as=\"h2\" inverted>\r\n            Log in to start creating your pizza!\r\n          </Header>\r\n          <Button as={Link} to=\"/authenticate\" color=\"red\" size=\"large\">\r\n            Signup/Login\r\n          </Button>\r\n        </Dimmer>\r\n      </Dimmer.Dimmable>\r\n    </Grid.Row>\r\n  )\r\n};\r\n\r\nexport default Order;\r\n","import { v4 as uuidv4 } from 'uuid';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Menu from '../../components/Menu/Menu';\r\nimport { Grid, Message } from 'semantic-ui-react';\r\nimport Order from '../../components/Order/Order';\r\nimport axios from '../../axios-orders';\r\nimport Loader from '../../components/Feedback/Loader';\r\nimport ErrorModal from '../../components/Feedback/ErrorModal';\r\n\r\n\r\nconst SalsSubs = (props) => {\r\n  const [menuState, setMenuState] = useState({\r\n    fillings: []\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false, \r\n    errorMessage: null\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true, \r\n    loadFailed: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get('/')\r\n    .then(response => {\r\n      let sortedFillings = response.data.fillings.sort(function(a, b){return a.id - b.id});\r\n      setMenuState({fillings: sortedFillings});\r\n    })\r\n    .catch(error => {\r\n      let errorMsg = '';\r\n      if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n      } else {\r\n          errorMsg = 'There was a problem loading the menu';\r\n      }\r\n\r\n      setErrorState({error: true, errorMessage: errorMsg});\r\n      setLoadingState({isLoading: false, loadFailed: menuState.loadFailed});\r\n      console.log(error.response);\r\n    });\r\n  }, [])\r\n\r\nconst [orderState, setOrderState] = useState({\r\n  totalPrice: \r\n    props.location.state ? \r\n    props.location.state.order.totalPrice : 5, \r\n  chosenFillings: \r\n    props.location.state ? \r\n    props.location.state.order.chosenFillings: []\r\n});  \r\n\r\nwindow.history.replaceState('/', undefined);\r\n\r\n\r\nconst addFillingHandler = (id) => {\r\n  let order = {...orderState};\r\n\r\n  // find the chosen topping in the menu\r\n  const menuIndex = menuState.fillings.findIndex(filling => filling.id === id);\r\n\r\n// check if the topping has already been added to the orderToppings array\r\nconst orderIndex = order.chosenFillings.findIndex(filling => filling.id === id);\r\n\r\n// if so, increase its count by 1\r\nif (orderIndex > -1){\r\n  order.chosenFillings[orderIndex].count++;\r\n}\r\n// otherwise (i.e. this topping is being added for the first time)\r\n// create this topping and add it to the order toppings array\r\nelse{\r\n  // Save the id, name and price of the chosen topping; set its count to 1\r\n  const chosenFilling = {\r\n    id: menuState.fillings[menuIndex].id,\r\n    name: menuState.fillings[menuIndex].alt,\r\n    price: menuState.fillings[menuIndex].price,\r\n    count: 1\r\n  };\r\n  order.chosenFillings.push(chosenFilling);\r\n}\r\n\r\n// Calculate the new price\r\nconst newPrice = orderState.totalPrice + menuState.fillings[menuIndex].price;\r\n\r\n// Update the order state with the new price and updated toppings array\r\nsetOrderState({\r\n  totalPrice: newPrice,\r\n  chosenFillings: order.chosenFillings\r\n});\r\n}\r\n\r\n\r\n// EVENT HANDLERS - REMOVE TOPPING\r\n\r\nconst removeFillingHandler = (id) => {\r\n\r\nlet order = {...orderState};\r\n\r\n// Find topping with matching id from the orderToppings\r\nconst index = order.chosenFillings.findIndex(filling => filling.id === id);\r\n\r\n// Get the current price\r\nlet price = order.totalPrice; \r\n\r\n// If topping was found, update the price and decrease the count\r\nif(index >= 0){\r\n  price = price - order.chosenFillings[index].price;\r\n  order.chosenFillings[index].count--;\r\n\r\n  // If the count is now 0, remove the topping completely\r\n  if(order.chosenFillings[index].count < 1){\r\n    order.chosenFillings.splice(index, 1);\r\n  }\r\n}\r\n\r\n// Update order state with updated price and updated toppings array\r\nsetOrderState({\r\n  totalPrice: price,\r\n  chosenFillings: order.chosenFillings\r\n});\r\n}  \r\n\r\nconsole.log(orderState);\r\n\r\n\r\nconst checkoutHandler = () => {\r\n  props.history.push('/place-order');\r\n\r\n  props.history.push({\r\n    pathname: 'place-order', \r\n    state: {\r\n      order: orderState, \r\n      menu: menuState.fillings\r\n    }\r\n  });\r\n\r\n} \r\n\r\n// ERROR HANDLER \r\n\r\nconst errorHandler = () => {\r\n  setErrorState({\r\n    error: false, \r\n    errorMessage: null\r\n  });\r\n  setLoadingState({\r\n    isLoading: false,\r\n    loadFailed: true\r\n  });\r\n};\r\n\r\nlet checkoutDisabled = true;\r\n\r\nif (orderState.chosenFillings.length > 0){\r\ncheckoutDisabled = false;\r\n}\r\n\r\n\r\nlet salssubsMenu = \r\nerrorState.error ? \r\n<ErrorModal error={errorState.errorMessage} onClear={errorHandler} /> : \r\n<Loader active={loadingState.isLoading} />;\r\n\r\nif (menuState.fillings.length > 0) {\r\nsalssubsMenu = (\r\n  <Grid divided='vertically' stackable>\r\n      <Grid.Row centered>\r\n          <Menu menu={menuState.fillings} />\r\n      </Grid.Row>\r\n      <Order \r\n        menu={menuState.fillings}\r\n        fillingAdded={addFillingHandler}\r\n        fillingRemoved={removeFillingHandler}\r\n        chosenFillings={orderState.chosenFillings}\r\n        totalPrice={orderState.totalPrice}\r\n        checkout={checkoutHandler}\r\n        disabled={checkoutDisabled}\r\n      />\r\n  </Grid>\r\n);\r\n}\r\nelse if (loadingState.loadFailed) {\r\nsalssubsMenu = <p>We're having some issues loading the menu... Please try again later.</p>\r\n}\r\n\r\n  return (\r\n    <div>\r\n      {salssubsMenu}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default SalsSubs;\r\n","import './App.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport Layout from './components/Layout/Layout';\nimport { BrowserRouter } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n        <Layout />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createContext } from 'react';\r\n\r\nconst AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n\r\nexport default AuthContext;","import React from \"react\";\r\nimport { Dimmer, Loader, Segment } from 'semantic-ui-react';\r\n\r\nconst Loading = (props) => {\r\n\r\n  return (\r\n    <Segment>\r\n      <Dimmer active={props.active} inverted>\r\n        <Loader size='large'>Loading</Loader>\r\n      </Dimmer>\r\n    </Segment>\r\n  )\r\n};\r\n\r\nexport default Loading;","import React from \"react\";\r\nimport { Header, List } from 'semantic-ui-react';\r\n\r\nconst Summary = (props) => {\r\n\r\nlet summary = null;\r\n\r\nif(props.chosenFillings.length > 0){\r\nsummary = (\r\n        <div>\r\n        <Header as='h3'>\r\n            Your Sub: \r\n        </Header>\r\n\r\n        <List divided verticalAlign='middle'>\r\n            {props.chosenFillings.map((filling) => {\r\n                return( \r\n                    <List.Item key={filling.id}>\r\n                        {filling.name}: {filling.count}\r\n                    </List.Item>\r\n                )\r\n            })}\r\n        </List>\r\n\r\n        <Header as='h4' className='h4margin'>\r\n            Total Price: &euro; {props.totalPrice.toFixed(2)}\r\n        </Header>\r\n    </div>\r\n      );\r\n  }\r\n  else{\r\n    summary = (\r\n        <div>\r\n            <Header as='h4' className=\"h4margin\">\r\n                Start adding some fillings! \r\n            </Header>\r\n        </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n{summary}          \r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Summary;\r\n"],"sourceRoot":""}