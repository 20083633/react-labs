{"code":"(this.webpackJsonppizzapal=this.webpackJsonppizzapal||[]).push([[0],{165:function(e,r,t){},167:function(e,r,t){},197:function(e,r,t){\"use strict\";t.r(r);var n=t(0),a=t.n(n),s=t(58),o=t.n(s),i=(t(165),t(32)),c=(t(166),t(9)),l=t(213),d=t(11),u=(t(167),Object(n.createContext)({isLoggedIn:!1,login:function(){},logout:function(){}})),j=t(214),p=t.p+\"static/media/logo.a8255238.png\",m=t(1),b=function(e){var r=Object(n.useContext)(u);return Object(m.jsxs)(j.a,{color:\"red\",stackable:!0,inverted:!0,children:[Object(m.jsx)(j.a.Item,{children:Object(m.jsx)(\"img\",{src:p,alt:\"Pizza Pal Logo\"})}),Object(m.jsx)(j.a.Item,{as:i.c,to:\"/\",exact:!0,children:\"Pizza Pal\"}),r.isLoggedIn&&Object(m.jsx)(j.a.Item,{as:i.c,to:\"/orders/\".concat(r.userId),children:\"Your Orders\"}),r.isLoggedIn&&Object(m.jsx)(j.a.Item,{as:i.c,to:\"/users/\".concat(r.userId),children:\"Your Account\"}),!r.isLoggedIn&&Object(m.jsx)(j.a.Menu,{position:\"right\",children:Object(m.jsx)(j.a.Item,{as:i.c,to:\"/authenticate\",children:\"Signup/Login\"})}),r.isLoggedIn&&Object(m.jsx)(j.a.Menu,{position:\"right\",children:Object(m.jsx)(j.a.Item,{as:i.b,to:\"/\",onClick:r.logout,children:\"Log out\"})})]})},h=t(22),g=t(219),O=t(148),f=t.n(O).a.create({baseURL:Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL}),x=t(222),v=t(223),C=t(150),w=t(112),y=function(e){return Object(m.jsxs)(g.a.Column,{mobile:4,computer:2,textAlign:\"center\",children:[Object(m.jsx)(C.a,{src:e.image,alt:e.alt,size:\"tiny\",centered:!0}),Object(m.jsxs)(w.a,{pointing:!0,children:[\"\\u20ac \",e.price.toFixed(2),\" \"]})]})},I=function(e){return Object(m.jsxs)(g.a.Column,{width:12,children:[Object(m.jsx)(x.a,{color:\"red\",children:Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Pizza Pal Menu\"})}),Object(m.jsx)(g.a,{children:e.menu.map((function(e,r){return Object(m.jsx)(y,{image:e.image,alt:e.alt,price:e.price},e.id)}))})]})},k=t(220),S=t(151),P=t(54),A=function(e){return Object(m.jsxs)(g.a.Column,{mobile:4,computer:2,textAlign:\"center\",children:[Object(m.jsx)(\"p\",{children:e.alt}),Object(m.jsxs)(S.a.Group,{size:\"mini\",children:[Object(m.jsx)(S.a,{color:\"green\",icon:!0,onClick:e.added,children:Object(m.jsx)(P.a,{name:\"plus\"})}),Object(m.jsx)(S.a,{color:\"red\",icon:!0,onClick:e.removed,children:Object(m.jsx)(P.a,{name:\"minus\"})})]})]})},L=function(e){return Object(m.jsxs)(g.a.Column,{width:8,children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",className:\"step\",children:\"Step 1: Choose your toppings\"}),Object(m.jsx)(g.a,{children:e.menu.map((function(r,t){return Object(m.jsx)(A,{alt:r.alt,added:function(){return e.toppingAdded(r.id)},removed:function(){return e.toppingRemoved(r.id)}},r.id)}))})]})},T=t(216),z=function(e){var r=null;return r=e.toppings.length>0?Object(m.jsxs)(\"div\",{children:[Object(m.jsx)(v.a,{as:\"h3\",children:\"Your Pizza:\"}),Object(m.jsx)(T.a,{divided:!0,verticalAlign:\"middle\",children:e.toppings.map((function(e){return Object(m.jsxs)(T.a.Item,{children:[e.name,\": \",e.count]},e.id)}))}),Object(m.jsxs)(v.a,{as:\"h4\",className:\"h4margin\",children:[\"Total Price: \\u20ac \",e.price.toFixed(2)]})]}):Object(m.jsx)(\"div\",{children:Object(m.jsx)(v.a,{as:\"h4\",className:\"h4margin\",children:\"Start adding some toppings!\"})}),Object(m.jsx)(\"div\",{children:r})},q=t(120),M=function(e){var r=Object(n.useState)(!1),t=Object(c.a)(r,2),a=t[0],s=t[1];return Object(m.jsxs)(q.a,{onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:a,trigger:Object(m.jsx)(S.a,{color:\"green\",size:\"large\",children:\"Order Now!\"}),children:[Object(m.jsx)(q.a.Header,{children:\"Confirm your choices:\"}),Object(m.jsx)(q.a.Content,{children:Object(m.jsx)(z,{menu:e.menu,toppings:e.toppings,price:e.price})}),Object(m.jsxs)(q.a.Actions,{children:[Object(m.jsx)(S.a,{color:\"red\",onClick:function(){return s(!1)},children:\"Go Back\"}),Object(m.jsx)(S.a,{color:\"green\",disabled:e.disabled,onClick:function(){e.checkout(),s(!1)},children:\"Check out\"})]})]})},F=function(e){return Object(m.jsxs)(g.a.Column,{width:6,textAlign:\"right\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",className:\"step\",children:\"Step 2: Check out\"}),Object(m.jsx)(z,{menu:e.menu,toppings:e.toppings,price:e.price}),Object(m.jsx)(M,{menu:e.menu,toppings:e.toppings,price:e.price,checkout:e.checkout,disabled:e.disabled})]})},D=function(e){var r=!Object(n.useContext)(u).isLoggedIn;return Object(m.jsx)(g.a.Row,{children:Object(m.jsxs)(k.a.Dimmable,{as:g.a,blurring:!0,dimmed:r,children:[Object(m.jsxs)(g.a.Row,{columns:2,centered:!0,children:[Object(m.jsx)(L,{menu:e.menu,toppingAdded:e.toppingAdded,toppingRemoved:e.toppingRemoved}),Object(m.jsx)(F,{menu:e.menu,toppings:e.chosenToppings,price:e.totalPrice,checkout:e.checkout,disabled:e.disabled})]}),Object(m.jsxs)(k.a,{active:r,children:[Object(m.jsx)(v.a,{as:\"h2\",inverted:!0,children:\"Log in to start creating your pizza!\"}),Object(m.jsx)(S.a,{as:i.b,to:\"/authenticate\",color:\"red\",size:\"large\",children:\"Signup/Login\"})]})]})})},E=t(210),R=function(e){return Object(m.jsx)(x.a,{children:Object(m.jsx)(k.a,{active:e.active,inverted:!0,children:Object(m.jsx)(E.a,{size:\"large\",children:\"Loading\"})})})},N=function(e){var r=a.a.useState(!!e.error),t=Object(c.a)(r,2),n=t[0],s=t[1];return Object(m.jsxs)(q.a,{onClose:function(){return s(!1)},onOpen:function(){return s(!0)},open:n,children:[Object(m.jsx)(q.a.Header,{children:\"Something went wrong\"}),Object(m.jsx)(q.a.Content,{children:Object(m.jsx)(q.a.Description,{children:Object(m.jsx)(\"p\",{children:e.error})})}),Object(m.jsx)(q.a.Actions,{children:Object(m.jsx)(S.a,{content:\"Okay\",onClick:function(){e.onClear(),s(!1)},color:\"red\"})})]})},B=function(e){var r=Object(n.useState)({toppings:[]}),t=Object(c.a)(r,2),a=t[0],s=t[1],o=Object(n.useState)({error:!1,errorMessage:null}),i=Object(c.a)(o,2),l=i[0],d=i[1],u=Object(n.useState)({isLoading:!0,loadFailed:!1}),j=Object(c.a)(u,2),p=j[0],b=j[1];Object(n.useEffect)((function(){f.get(\"/\").then((function(e){var r=e.data.toppings.sort((function(e,r){return e.id-r.id}));s({toppings:r})})).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"There was a problem fetching the menu\",d({error:!0,errorMessage:r}),b({isLoading:!1,loadFailed:a.loadFailed}),console.log(e.response)}))}),[]);var O=Object(n.useState)({totalPrice:e.location.state?e.location.state.order.totalPrice:5,chosenToppings:e.location.state?e.location.state.order.chosenToppings:[]}),x=Object(c.a)(O,2),v=x[0],C=x[1],w=!0;v.chosenToppings.length>0&&(w=!1);var y=l.error?Object(m.jsx)(N,{error:l.errorMessage,onClear:function(){d({error:!1,errorMessage:null}),b({isLoading:!1,loadFailed:!0})}}):Object(m.jsx)(R,{active:p.isLoading});return a.toppings.length>0?y=Object(m.jsxs)(g.a,{divided:\"vertically\",stackable:!0,children:[Object(m.jsx)(g.a.Row,{centered:!0,children:Object(m.jsx)(I,{menu:a.toppings})}),Object(m.jsx)(D,{menu:a.toppings,toppingAdded:function(e){var r=Object(h.a)({},v),t=a.toppings.findIndex((function(r){return r.id===e})),n=r.chosenToppings.findIndex((function(r){return r.id===e}));if(n>-1)r.chosenToppings[n].count++;else{var s={id:a.toppings[t].id,name:a.toppings[t].alt,price:a.toppings[t].price,count:1};r.chosenToppings.push(s)}var o=v.totalPrice+a.toppings[t].price;C({totalPrice:o,chosenToppings:r.chosenToppings})},toppingRemoved:function(e){var r=Object(h.a)({},v),t=r.chosenToppings.findIndex((function(r){return r.id===e})),n=r.totalPrice;t>=0&&(n-=r.chosenToppings[t].price,r.chosenToppings[t].count--,r.chosenToppings[t].count<1&&r.chosenToppings.splice(t,1)),C({totalPrice:n,chosenToppings:r.chosenToppings})},chosenToppings:v.chosenToppings,totalPrice:v.totalPrice,checkout:function(){e.history.push({pathname:\"place-order\",state:{order:v,menu:a.toppings}})},disabled:w})]}):p.loadFailed&&(y=Object(m.jsx)(\"p\",{children:\"We're having some issues loading the menu... Please try again later.\"})),Object(m.jsx)(\"div\",{children:y})},_=t(217),U=function(e){return Object(m.jsxs)(_.a.Row,{verticalAlign:\"top\",children:[Object(m.jsx)(_.a.Cell,{children:e.date}),Object(m.jsx)(_.a.Cell,{children:Object(m.jsx)(T.a,{children:e.toppings.map((function(e){return Object(m.jsxs)(T.a.Item,{children:[e.name,\" : \",e.count]},e.id)}))})}),Object(m.jsxs)(_.a.Cell,{children:[\"\\u20ac\",e.price.toFixed(2)]})]})},V=function(e){return Object(m.jsxs)(_.a,{children:[Object(m.jsx)(_.a.Header,{children:Object(m.jsxs)(_.a.Row,{children:[Object(m.jsx)(_.a.HeaderCell,{width:4,children:\"Order Date\"}),Object(m.jsx)(_.a.HeaderCell,{width:8,children:\"Pizza Description\"}),Object(m.jsx)(_.a.HeaderCell,{width:4,children:\"Price\"})]})}),Object(m.jsx)(_.a.Body,{children:e.orders.map((function(e){return Object(m.jsx)(U,{toppings:e.chosenToppings,price:e.totalPrice,date:e.date},e.id)}))})]})},Y=function(e){var r=Object(n.useContext)(u),t=Object(n.useState)({orders:[]}),a=Object(c.a)(t,2),s=a[0],o=(a[1],Object(n.useState)({error:!1,errorMessage:null})),i=Object(c.a)(o,2),l=i[0],d=i[1],j=Object(n.useState)({isLoading:!0,ordersLoaded:!1,loadFailed:!1}),p=Object(c.a)(j,2),b=p[0],h=p[1];Object(n.useEffect)((function(){var t=\"/deleteuser/\"+r.userId;f.delete(t,{headers:{Authorization:\"Bearer \"+r.token}}).then((function(t){console.log(\"User deleted!\"),r.logout(),e.history.push(\"/\")})).catch((function(e){d({error:!0,errorMessage:e.response.data.message}),h({isLoading:!1,ordersLoaded:b.ordersLoaded,loadFailed:b.loadFailed})}))}),[]);var g=l.error?Object(m.jsx)(N,{error:l.errorMessage,onClear:function(){d({error:!1,errorMessage:null}),h({isLoading:b.isLoading,ordersLoaded:b.ordersLoaded,loadFailed:!0})}}):Object(m.jsx)(R,{active:b.isLoading});return b.ordersLoaded&&s.orders.length>0?g=Object(m.jsx)(V,{orders:s.orders}):b.loadFailed&&(g=Object(m.jsx)(\"p\",{children:\"We can't load your orders... maybe try creating one?\"})),Object(m.jsx)(\"div\",{children:g})},H=t(215),$=t(211),J=t(218),W=Object(d.g)((function(e){var r=Object(n.useContext)(u),t=Object(n.useState)({totalPrice:e.location.state.order.totalPrice,chosenToppings:e.location.state.order.chosenToppings}),s=Object(c.a)(t,2),o=s[0],i=(s[1],Object(n.useState)({error:!1,errorMessage:null})),l=Object(c.a)(i,2),d=l[0],j=l[1],p=Object(n.useState)({details:{name:\"\",phone:\"\",method:\"\",address:\"\"}}),b=Object(c.a)(p,2),O=b[0],C=b[1],w=Object(n.useState)({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:!0,valid:!1},{id:\"form-input-phone\",message:\"Please enter your phone number (area code and number)\",required:!0,valid:!1},{id:\"form-input-method\",message:\"Please choose collection or delivery\",required:!0,valid:!1},{id:\"form-input-address\",message:\"Please enter your delivery address (house number and street)\",required:!1,valid:!0}],formValid:!1}),y=Object(c.a)(w,2),I=y[0],k=y[1],P=Object(n.useState)({name:null,phone:null,method:null,address:null}),A=Object(c.a)(P,2),L=A[0],T=A[1],q=function(e,r,t){var n=Object(h.a)({},I),a=n.rules.findIndex((function(e){return e.id===r})),s=null;if(n.rules[a].required&&\"input\"===t&&\"\"===e.trim())s=n.rules[a].message,n.rules[a].valid=!1;else if(\"form-input-phone\"===r){/^[+]?[(]?[0-9]{3,5}[)]?[-\\s.]?[0-9]{6,7}$/.test(e)?n.rules[a].valid=!0:(n.rules[a].valid=!1,s=n.rules[a].message)}else if(\"form-input-name\"===r){/^[A-Za-z\\s]{2,30}$/.test(e)?n.rules[a].valid=!0:(n.rules[a].valid=!1,s=n.rules[a].message)}else if(\"Delivery\"===e)n.rules[a].valid=!0,n.rules[3].valid=!1,n.rules[3].required=!0;else if(\"Collection\"===e)n.rules[a].valid=!0,n.rules[3].required=!1,n.rules[3].valid=!0;else if(n.rules[a].required&&\"form-input-address\"===r){/^[#.0-9a-zA-Z\\s,-]{2,50}$/.test(e)?n.rules[a].valid=!0:(n.rules[a].valid=!1,s=n.rules[a].message)}else s=null,n.rules[a].valid=!0;var o=Object(h.a)({},L);switch(r){case\"form-input-name\":o.name=s;break;case\"form-input-phone\":o.phone=s;break;case\"form-input-method\":o.method=s;break;case\"form-input-address\":o.address=s}T(Object(h.a)({},o));var i=!0;for(var c in n.rules)n.rules[c].valid||(i=!1);k({rules:n.rules,formValid:i})},M=function(e,r,t){var n=O.details;switch(r){case\"form-input-name\":n.name=e.target.value,q(e.target.value,r,t);break;case\"form-input-phone\":n.phone=e.target.value,q(e.target.value,r,t);break;case\"form-input-method\":n.method=e.target.textContent,q(e.target.textContent,r,t);break;case\"form-input-address\":n.address=e.target.value,q(e.target.value,r,t)}C({details:n})},F=!I.formValid,D=null;return D=d.error?Object(m.jsx)(N,{error:d.errorMessage,onClear:function(){j({error:!1,errorMessage:null})}}):Object(m.jsx)(g.a,{children:Object(m.jsxs)(g.a.Row,{columns:2,children:[Object(m.jsx)(g.a.Column,{width:6,children:Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Confirm your order:\"}),Object(m.jsx)(z,{menu:e.location.state.menu,toppings:e.location.state.order.chosenToppings,price:e.location.state.order.totalPrice}),Object(m.jsx)(S.a,{color:\"red\",onClick:function(){e.history.push({pathname:\"/\",state:{order:o}})},children:\"Go Back\"})]})}),Object(m.jsx)(g.a.Column,{width:10,children:Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Enter your details:\"}),Object(m.jsxs)(H.a,{id:\"form\",children:[Object(m.jsx)(H.a.Input,{error:L.name,required:!0,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function(e){return M(e,\"form-input-name\",\"input\")}}),Object(m.jsx)(H.a.Input,{error:L.phone,required:!0,label:\"Phone\",placeholder:\"Phone e.g. 086-1234567\",id:\"form-input-phone\",onChange:function(e){return M(e,\"form-input-phone\",\"input\")}}),Object(m.jsx)(H.a.Field,{control:$.a,required:!0,error:L.method,label:\"Delivery method\",options:[{key:\"c\",text:\"Collection\",value:\"collection\"},{key:\"d\",text:\"Delivery\",value:\"delivery\"}],placeholder:\"Collection or Delivery\",id:\"form-input-method\",onChange:function(e){return M(e,\"form-input-method\",\"select\")}}),Object(m.jsx)(H.a.Input,{error:L.address,required:I.rules[3].required,fluid:!0,label:\"Address\",placeholder:\"Address\",id:\"form-input-address\",onChange:function(e){return M(e,\"form-input-address\",\"input\")}}),Object(m.jsx)(S.a,{type:\"submit\",color:\"green\",disabled:F,onClick:function(){var e=o;e.id=Object(J.a)();var t=new Date,n=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"][t.getDay()],a=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"][t.getMonth()],s=n+\" \"+t.getDate()+\" \"+a+\" \"+t.getFullYear();e.date=s,e.details=O.details,e.userId=r.userId,f.post(\"/checkout\",e,{headers:{Authorization:\"Bearer \"+r.token}}).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"There was a problem creating your order\",j({error:!0,errorMessage:r})}))},children:\"Submit\"})]})]})})]})}),Object(m.jsx)(a.a.Fragment,{children:D})})),Z=function(e){return Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Your Order has been placed!\"}),Object(m.jsx)(C.a,{src:\"/images/delivery.gif\",size:\"medium\",centered:!0})]})},G=function(e){var r=Object(n.useContext)(u),t=Object(n.useState)(!1),a=Object(c.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)({error:!1,errorMessage:null}),l=Object(c.a)(i,2),d=l[0],j=l[1],p=function(){o((function(e){return!e})),w({details:{name:\"\",email:\"\",password:\"\"}}),P({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:!0,valid:!1},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:!0,valid:!1},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:!0,valid:!1}],formValid:!1}),document.getElementById(\"form\").reset()},b=Object(n.useState)({details:{name:\"\",email:\"\",password:\"\"}}),O=Object(c.a)(b,2),C=O[0],w=O[1],y=Object(n.useState)({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:!0,valid:!1},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:!0,valid:!1},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:!0,valid:!1}],formValid:!1}),I=Object(c.a)(y,2),k=I[0],P=I[1],A=Object(n.useState)({name:null,email:null,address:null}),L=Object(c.a)(A,2),T=L[0],z=L[1],q=function(e,r){var t=Object(h.a)({},k),n=t.rules.findIndex((function(e){return e.id===r})),a=null;if(t.rules[n].required&&\"\"===e.trim())a=t.rules[n].message,t.rules[n].valid=!1;else if(\"form-input-email\"===r){/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else if(\"form-input-password\"===r){/^[A-Za-z0-9\\s]{6,}$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else if(t.rules[n].required&&\"form-input-name\"===r){/^[A-Za-z\\s]{2,30}$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else a=null,t.rules[n].valid=!0;var o=Object(h.a)({},T);switch(r){case\"form-input-name\":o.name=a;break;case\"form-input-email\":o.email=a;break;case\"form-input-password\":o.password=a}z(Object(h.a)({},o));var i=!0;for(var c in t.rules)s&&0==c||t.rules[c].valid||(i=!1);P({rules:t.rules,formValid:i})},M=function(e,r){var t=C.details;switch(r){case\"form-input-name\":t.name=e.target.value,q(e.target.value,r);break;case\"form-input-email\":t.email=e.target.value,q(e.target.value,r);break;case\"form-input-password\":var n=e.target.value.trim();t.password=n,q(n,r)}w({details:t})},F=!k.formValid,D=\"grey\",E=\"grey\",R=null;return d.error?R=Object(m.jsx)(N,{error:d.errorMessage,onClear:function(){j({error:!1,errorMessage:null})}}):s?(R=Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Already registered? Log In!\"}),Object(m.jsxs)(H.a,{id:\"form\",children:[Object(m.jsx)(H.a.Input,{error:T.email,autoComplete:\"off\",required:!0,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function(e){return M(e,\"form-input-email\")}}),Object(m.jsx)(H.a.Input,{error:T.password,type:\"password\",autoComplete:\"off\",required:!0,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function(e){return M(e,\"form-input-password\")}}),Object(m.jsx)(S.a,{type:\"submit\",color:\"green\",disabled:F,onClick:function(){f.post(\"/login\",C.details).then((function(t){r.login(t.data.userId,t.data.token),e.history.push(\"/\")})).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"Something went wrong - login failed\",j({error:!0,errorMessage:r})}))},children:\"Log In\"})]})]}),E=\"red\"):(R=Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"First time here? Sign Up!\"}),Object(m.jsxs)(H.a,{id:\"form\",children:[Object(m.jsx)(H.a.Input,{error:T.email,autoComplete:\"off\",required:!0,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function(e){return M(e,\"form-input-email\")}}),Object(m.jsx)(H.a.Input,{error:T.password,type:\"password\",autoComplete:\"off\",required:!0,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function(e){return M(e,\"form-input-password\")}}),Object(m.jsx)(H.a.Input,{error:T.name,autoComplete:\"off\",required:!0,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function(e){return M(e,\"form-input-name\")}}),Object(m.jsx)(S.a,{type:\"submit\",color:\"green\",disabled:F,onClick:function(){f.post(\"/signup\",C.details).then((function(t){r.login(t.data.userId,t.data.token),e.history.push(\"/\")})).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"Something went wrong - signup failed\",j({error:!0,errorMessage:r})}))},children:\"Sign Up\"})]})]}),D=\"red\"),Object(m.jsx)(g.a,{children:Object(m.jsx)(g.a.Row,{centered:!0,children:Object(m.jsxs)(g.a.Column,{width:10,children:[Object(m.jsxs)(S.a.Group,{widths:\"2\",children:[Object(m.jsx)(S.a,{size:\"large\",color:D,onClick:p,children:\"Sign Up\"}),Object(m.jsx)(S.a.Or,{}),Object(m.jsx)(S.a,{size:\"large\",color:E,onClick:p,children:\"Log In\"})]}),R]})})})},K=t(212),Q=function(e){var r=Object(n.useContext)(u),t=Object(n.useState)({user:null}),s=Object(c.a)(t,2),o=s[0],i=s[1],l=Object(n.useState)({error:!1,errorMessage:null}),d=Object(c.a)(l,2),j=d[0],p=d[1],b=Object(n.useState)({isLoading:!0,loadFailed:!1}),h=Object(c.a)(b,2),O=h[0],w=h[1],y=Object(n.useState)({open:!1}),I=Object(c.a)(y,2),k=I[0],A=I[1];Object(n.useEffect)((function(){var e=\"/users/\"+r.userId;f.get(e,{headers:{Authorization:\"Bearer \"+r.token}}).then((function(e){i({user:e.data.user})})).catch((function(e){p({error:!0,errorMessage:e.response.data.message}),w({isLoading:!1,loadFailed:O.loadFailed})}))}),[]);var L=j.error?Object(m.jsx)(N,{error:j.errorMessage,onClear:function(){p({error:!1,errorMessage:null}),w({isLoading:!1,loadFailed:!0})}}):Object(m.jsx)(R,{active:O.isLoading});return o.user&&!j.error?L=Object(m.jsx)(g.a,{children:Object(m.jsx)(g.a.Row,{centered:!0,children:Object(m.jsx)(g.a.Column,{width:10,children:Object(m.jsx)(x.a,{color:\"red\",children:Object(m.jsxs)(g.a,{divided:!0,children:[Object(m.jsxs)(g.a.Column,{width:8,children:[Object(m.jsx)(v.a,{as:\"h3\",textAlign:\"center\",color:\"red\",children:\"Your Details\"}),Object(m.jsxs)(T.a,{children:[Object(m.jsxs)(T.a.Item,{children:[Object(m.jsx)(T.a.Icon,{name:\"user\"}),Object(m.jsx)(T.a.Content,{children:Object(m.jsxs)(\"b\",{children:[\"Name: \",o.user.name,\" \"]})})]}),Object(m.jsxs)(T.a.Item,{children:[Object(m.jsx)(T.a.Icon,{name:\"mail\"}),Object(m.jsx)(T.a.Content,{children:Object(m.jsxs)(\"b\",{children:[\"Email: \",o.user.email,\" \"]})})]}),Object(m.jsxs)(T.a.Item,{children:[Object(m.jsx)(T.a.Icon,{name:\"lock\"}),Object(m.jsxs)(T.a.Content,{children:[Object(m.jsx)(\"b\",{children:\"Password: \"}),\" \",\"\\u25aa\\u25aa\\u25aa\\u25aa\\u25aa\\u25aa\",\" \"]})]})]}),Object(m.jsxs)(\"div\",{className:\"accountButtons\",children:[Object(m.jsxs)(S.a,{icon:!0,labelPosition:\"left\",color:\"orange\",onClick:function(){e.history.push({pathname:\"/update-account\",state:{user:o.user}})},children:[Object(m.jsx)(P.a,{name:\"pencil\"}),\"Update Your Details\"]}),Object(m.jsx)(\"br\",{}),Object(m.jsx)(\"br\",{}),Object(m.jsxs)(S.a,{icon:!0,labelPosition:\"left\",color:\"red\",onClick:function(){return A({open:!0})},children:[\"Delete Your Account\",Object(m.jsx)(P.a,{name:\"trash\"})]}),Object(m.jsx)(K.a,{open:k.open,onCancel:function(){return A({open:!1})},onConfirm:function(){f.delete(\"/deleteuser/12345678\").then((function(r){console.log(\"User deleted!\"),e.history.push(\"/\")})).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"There was a problem deleting your account\",p({error:!0,errorMessage:r})}))},header:\"Are you sure?\",content:\"Deleting your account is a permanent action and cannot be undone\",cancelButton:\"Take me back\",confirmButton:\"Yes, delete my account permanently\"})]})]}),Object(m.jsx)(g.a.Column,{width:8,textAlign:\"center\",children:Object(m.jsx)(C.a,{src:\"https://img.jamieoliver.com/jamieoliver/recipe-database/oldImages/large/1474_2_1430128688.jpg?tr=w-800,h-1066\",rounded:!0,size:\"large\"})})]})})})})}):O.loadFailed&&(L=Object(m.jsx)(\"p\",{children:\"User can't be found\"})),Object(m.jsx)(a.a.Fragment,{children:L})},X=function(e){var r=Object(n.useContext)(u),t=Object(n.useState)({user:e.history.location.state.user}),s=Object(c.a)(t,2),o=s[0],i=s[1],l=Object(n.useState)({error:!1,errorMessage:null}),d=Object(c.a)(l,2),j=d[0],p=d[1],b=Object(n.useState)({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:!0,valid:!1},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:!0,valid:!1},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:!0,valid:!1}],formValid:!1}),O=Object(c.a)(b,2),C=O[0],w=O[1],y=Object(n.useState)({name:null,email:null,address:null}),I=Object(c.a)(y,2),k=I[0],P=I[1],A=function(e,r){var t=Object(h.a)({},C),n=t.rules.findIndex((function(e){return e.id===r})),a=null;if(t.rules[n].required&&\"\"===e.trim())a=t.rules[n].message,t.rules[n].valid=!1;else if(\"form-input-email\"===r){/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else if(\"form-input-password\"===r){/^[A-Za-z0-9\\s]{6,}$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else if(t.rules[n].required&&\"form-input-name\"===r){/^[A-Za-z\\s]{2,30}$/.test(e)?t.rules[n].valid=!0:(t.rules[n].valid=!1,a=t.rules[n].message)}else a=null,t.rules[n].valid=!0;var s=Object(h.a)({},k);switch(r){case\"form-input-name\":s.name=a;break;case\"form-input-email\":s.email=a;break;case\"form-input-password\":s.password=a}P(Object(h.a)({},s));var o=!0;for(var i in t.rules)t.rules[i].valid||(o=!1);w({rules:t.rules,formValid:o})},L=function(e,r){var t=o.user;switch(r){case\"form-input-name\":t.name=e.target.value,A(e.target.value,r);break;case\"form-input-email\":t.email=e.target.value,A(e.target.value,r);break;case\"form-input-password\":var n=e.target.value.trim();t.password=n,A(n,r)}i({user:t})},T=!C.formValid,z=null;return z=j.error?Object(m.jsx)(N,{error:j.errorMessage,onClear:function(){p({error:!1,errorMessage:null})}}):Object(m.jsx)(g.a,{children:Object(m.jsx)(g.a.Row,{centered:!0,children:Object(m.jsx)(g.a.Column,{width:10,children:Object(m.jsxs)(x.a,{color:\"red\",children:[Object(m.jsx)(v.a,{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Update Your Details\"}),Object(m.jsxs)(H.a,{id:\"form\",children:[Object(m.jsx)(H.a.Input,{error:k.email,autoComplete:\"off\",required:!0,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function(e){return L(e,\"form-input-email\")}}),Object(m.jsx)(H.a.Input,{error:k.password,type:\"password\",autoComplete:\"off\",required:!0,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function(e){return L(e,\"form-input-password\")}}),Object(m.jsx)(H.a.Input,{error:k.name,autoComplete:\"off\",required:!0,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function(e){return L(e,\"form-input-name\")}}),Object(m.jsx)(S.a,{type:\"submit\",color:\"green\",disabled:T,onClick:function(){var t=\"/updateuser/\"+r.userId;f.put(t,o.user,{headers:{Authorization:\"Bearer \"+r.token}}).then((function(t){e.history.push(\"/users/\"+r.userId)})).catch((function(e){var r=\"\";r=e.response?e.response.data.message:\"There was a problem updating your account\",p({error:!0,errorMessage:r})}))},children:\"Update Details\"})]})]})})})}),Object(m.jsx)(a.a.Fragment,{children:z})},ee=function(e){var r,t=Object(n.useState)({isLoggedIn:!1}),a=Object(c.a)(t,2),s=(a[0],a[1],Object(n.useState)(!1)),o=Object(c.a)(s,2),i=o[0],j=o[1],p=Object(n.useState)(!1),h=Object(c.a)(p,2),g=h[0],O=h[1],f=d.f,x=Object(n.useCallback)((function(e,r){j(r),O(e),localStorage.setItem(\"userData\",JSON.stringify({userId:e,token:r}))}),[]),v=Object(n.useCallback)((function(){j(null),O(null),localStorage.removeItem(\"userData\"),f.push(\"/\")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem(\"userData\"));e&&e.token&&x(e.userId,e.token)}),[x]),r=i?Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:\"/\",exact:!0,component:B}),Object(m.jsx)(d.a,{path:\"/orders/:uid\",component:Y}),Object(m.jsx)(d.a,{path:\"/place-order\",component:W}),Object(m.jsx)(d.a,{path:\"/order-success\",component:Z}),Object(m.jsx)(d.a,{path:\"/users/:uid\",component:Q}),Object(m.jsx)(d.a,{path:\"/update-account\",component:X})]}):Object(m.jsxs)(d.c,{children:[Object(m.jsx)(d.a,{path:\"/\",exact:!0,component:B}),Object(m.jsx)(d.a,{path:\"/authenticate\",component:G})]}),Object(m.jsx)(u.Provider,{value:{isLoggedIn:!!i,token:i,userId:g,login:x,logout:v},children:Object(m.jsxs)(l.a,{children:[Object(m.jsx)(b,{}),r]})})};var re=function(){return Object(m.jsx)(i.a,{children:Object(m.jsx)(ee,{})})},te=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,225)).then((function(r){var t=r.getCLS,n=r.getFID,a=r.getFCP,s=r.getLCP,o=r.getTTFB;t(e),n(e),a(e),s(e),o(e)}))};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(re,{})}),document.getElementById(\"root\")),te()}},[[197,1,2]]]);","name":"static/js/main.5322eed2.chunk.js","map":{"version":3,"sources":["static/js/main.5322eed2.chunk.js"],"names":["this","push","165","module","exports","__webpack_require__","167","197","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","slicedToArray","Container","react_router","auth_context","Object","isLoggedIn","login","logout","Menu_Menu","logo","p","jsx_runtime","components_Nav_Nav","props","auth","color","stackable","inverted","children","Item","src","alt","as","to","exact","concat","userId","Menu","position","onClick","objectSpread2","Grid","axios","axios_orders","a","create","baseURL","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","undefined","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_BACKEND_URL","Segment","Header","Image","Label","Menu_MenuItem_MenuItem","Column","mobile","computer","textAlign","image","size","centered","pointing","price","toFixed","components_Menu_Menu","width","menu","map","toppings","index","id","Dimmer","Button","Icon","Controls_Control_Control","Group","icon","added","name","removed","Order_Controls_Controls","className","toppingAdded","toppingRemoved","List","Checkout_OrderSummary_OrderSummary","summary","length","divided","verticalAlign","topping","count","Modal","Checkout_OrderModal_OrderModal","_useState","_useState2","open","setOpen","onClose","onOpen","trigger","Content","Actions","disabled","checkout","Order_Checkout_Checkout","components_Order_Order","active","Row","Dimmable","blurring","dimmed","columns","chosenToppings","totalPrice","Loader","Loader_Loader","Feedback_ErrorModal_ErrorModal","_React$useState","useState","error","_React$useState2","Description","content","onClear","containers_PizzaPal_PizzaPal","menuState","setMenuState","_useState3","errorMessage","_useState4","errorState","setErrorState","_useState5","isLoading","loadFailed","_useState6","loadingState","setLoadingState","get","then","response","sortedToppings","data","sort","b","catch","errorMsg","message","console","log","_useState7","location","state","order","_useState8","orderState","setOrderState","checkoutDisabled","pizzapalMenu","menuIndex","findIndex","orderIndex","chosenTopping","newPrice","splice","history","pathname","Table","OrdersTable_TableRow_TableRow","Cell","date","components_OrdersTable_OrdersTable","HeaderCell","Body","orders","containers_YourOrders_YourOrders","pastOrdersState","ordersLoaded","path","delete","headers","Authorization","token","Form","Select","v4","containers_PlaceOrder_PlaceOrder","details","phone","method","address","customerState","setCustomerState","rules","required","valid","formValid","validationState","setValidationState","_useState9","_useState10","messageState","setMessageState","validate","value","inputIdentifier","inputType","validation","inputRule","input","trim","test","msgState","formIsValid","i","formChangedHandler","event","customerDetails","target","textContent","orderForm","Input","label","placeholder","onChange","Field","control","options","key","text","fluid","type","orderDate","Date","day","getDay","month","getMonth","formattedDate","getDate","getFullYear","post","Fragment","PlaceOrder_OrderSuccess_OrderSuccess","containers_Authenticate_Authenticate","isLoginMode","setIsLoginMode","switchModeHandler","prevMode","setAuthDetailsState","email","password","document","getElementById","reset","authDetailsState","authDetails","trimmedPassword","signupBtnColor","loginBtnColor","authForm","autoComplete","widths","Or","Confirm","containers_YourAccount_YourAccount","user","accountState","setAccountState","confirmState","setConfirmState","account","labelPosition","onCancel","onConfirm","header","cancelButton","confirmButton","rounded","YourAccount_AccountUpdate_AccountUpdate","userDetails","updateForm","put","components_Layout_Layout","routes","setToken","setUserId","uid","localStorage","setItem","JSON","stringify","removeItem","storedData","parse","getItem","component","Provider","src_App","src_reportWebVitals","onPerfEntry","Function","e","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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"},"input":"(this[\"webpackJsonppizzapal\"] = this[\"webpackJsonppizzapal\"] || []).push([[0],{\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 167:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(58);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-css/semantic.min.css\nvar semantic_min = __webpack_require__(166);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Container/Container.js\nvar Container = __webpack_require__(213);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/components/Layout/Layout.css\nvar Layout_Layout = __webpack_require__(167);\n\n// CONCATENATED MODULE: ./src/context/auth-context.js\nvar AuthContext=/*#__PURE__*/Object(react[\"createContext\"])({isLoggedIn:false,login:function login(){},logout:function logout(){}});/* harmony default export */ var auth_context = (AuthContext);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Menu/Menu.js + 15 modules\nvar Menu_Menu = __webpack_require__(214);\n\n// CONCATENATED MODULE: ./src/assets/logo.png\n/* harmony default export */ var logo = (__webpack_require__.p + \"static/media/logo.a8255238.png\");\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/Nav/Nav.js\nvar Nav_Nav=function Nav(props){var auth=Object(react[\"useContext\"])(auth_context);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Menu_Menu[\"a\" /* default */],{color:\"red\",stackable:true,inverted:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:logo,alt:\"Pizza Pal Logo\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{as:react_router_dom[\"c\" /* NavLink */],to:\"/\",exact:true,children:\"Pizza Pal\"}),auth.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{as:react_router_dom[\"c\" /* NavLink */],to:\"/orders/\".concat(auth.userId),children:\"Your Orders\"}),auth.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{as:react_router_dom[\"c\" /* NavLink */],to:\"/users/\".concat(auth.userId),children:\"Your Account\"}),!auth.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Menu,{position:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{as:react_router_dom[\"c\" /* NavLink */],to:\"/authenticate\",children:\"Signup/Login\"})}),auth.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Menu,{position:\"right\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_Menu[\"a\" /* default */].Item,{as:react_router_dom[\"b\" /* Link */],to:\"/\",onClick:auth.logout,children:\"Log out\"})})]});};/* harmony default export */ var components_Nav_Nav = (Nav_Nav);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Grid/Grid.js + 2 modules\nvar Grid = __webpack_require__(219);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(148);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/axios-orders.js\nvar instance=axios_default.a.create({baseURL:Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_BACKEND_URL});/* harmony default export */ var axios_orders = (instance);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Segment/Segment.js + 2 modules\nvar Segment = __webpack_require__(222);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Header/Header.js + 2 modules\nvar Header = __webpack_require__(223);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js + 1 modules\nvar Image = __webpack_require__(150);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Label/Label.js + 2 modules\nvar Label = __webpack_require__(112);\n\n// CONCATENATED MODULE: ./src/components/Menu/MenuItem/MenuItem.js\nvar MenuItem_MenuItem=function MenuItem(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{mobile:4,computer:2,textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:props.image,alt:props.alt,size:\"tiny\",centered:true}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Label[\"a\" /* default */],{pointing:true,children:[\"\\u20AC \",props.price.toFixed(2),\" \"]})]});};/* harmony default export */ var Menu_MenuItem_MenuItem = (MenuItem_MenuItem);\n// CONCATENATED MODULE: ./src/components/Menu/Menu.js\nvar Menu_Menu_Menu=function Menu(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{width:12,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{color:\"red\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Pizza Pal Menu\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:props.menu.map(function(toppings,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Menu_MenuItem_MenuItem,{image:toppings.image,alt:toppings.alt,price:toppings.price},toppings.id);})})]});};/* harmony default export */ var components_Menu_Menu = (Menu_Menu_Menu);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Dimmer/Dimmer.js + 2 modules\nvar Dimmer = __webpack_require__(220);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js + 3 modules\nvar Button = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(54);\n\n// CONCATENATED MODULE: ./src/components/Order/Controls/Control/Control.js\nvar Control_Control=function Control(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{mobile:4,computer:2,textAlign:\"center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:props.alt}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */].Group,{size:\"mini\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"green\",icon:true,onClick:props.added,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"plus\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"red\",icon:true,onClick:props.removed,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"minus\"})})]})]});};/* harmony default export */ var Controls_Control_Control = (Control_Control);\n// CONCATENATED MODULE: ./src/components/Order/Controls/Controls.js\nvar Controls_Controls=function Controls(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{width:8,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",className:\"step\",children:\"Step 1: Choose your toppings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:props.menu.map(function(toppings,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Controls_Control_Control,{alt:toppings.alt,added:function added(){return props.toppingAdded(toppings.id);},removed:function removed(){return props.toppingRemoved(toppings.id);}},toppings.id);})})]});};/* harmony default export */ var Order_Controls_Controls = (Controls_Controls);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/List/List.js + 6 modules\nvar List = __webpack_require__(216);\n\n// CONCATENATED MODULE: ./src/components/Order/Checkout/OrderSummary/OrderSummary.js\nvar OrderSummary_OrderSummary=function OrderSummary(props){var summary=null;if(props.toppings.length>0){summary=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h3\",children:\"Your Pizza:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{divided:true,verticalAlign:\"middle\",children:props.toppings.map(function(topping){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[topping.name,\": \",topping.count]},topping.id);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Header[\"a\" /* default */],{as:\"h4\",className:\"h4margin\",children:[\"Total Price: \\u20AC \",props.price.toFixed(2)]})]});}else{summary=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h4\",className:\"h4margin\",children:\"Start adding some toppings!\"})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:summary});};/* harmony default export */ var Checkout_OrderSummary_OrderSummary = (OrderSummary_OrderSummary);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js + 6 modules\nvar Modal = __webpack_require__(120);\n\n// CONCATENATED MODULE: ./src/components/Order/Checkout/OrderModal/OrderModal.js\nvar OrderModal_OrderModal=function OrderModal(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),open=_useState2[0],setOpen=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"green\",size:\"large\",children:\"Order Now!\"}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Confirm your choices:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkout_OrderSummary_OrderSummary,{menu:props.menu,toppings:props.toppings,price:props.price})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */].Actions,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"red\",onClick:function onClick(){return setOpen(false);},children:\"Go Back\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"green\",disabled:props.disabled,onClick:function onClick(){props.checkout();setOpen(false);},children:\"Check out\"})]})]});};/* harmony default export */ var Checkout_OrderModal_OrderModal = (OrderModal_OrderModal);\n// CONCATENATED MODULE: ./src/components/Order/Checkout/Checkout.js\nvar Checkout_Checkout=function Checkout(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{width:6,textAlign:\"right\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",className:\"step\",children:\"Step 2: Check out\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkout_OrderSummary_OrderSummary,{menu:props.menu,toppings:props.toppings,price:props.price}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkout_OrderModal_OrderModal,{menu:props.menu,toppings:props.toppings,price:props.price,checkout:props.checkout,disabled:props.disabled})]});};/* harmony default export */ var Order_Checkout_Checkout = (Checkout_Checkout);\n// CONCATENATED MODULE: ./src/components/Order/Order.js\nvar Order_Order=function Order(props){var auth=Object(react[\"useContext\"])(auth_context);var active=!auth.isLoggedIn;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Row,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dimmer[\"a\" /* default */].Dimmable,{as:Grid[\"a\" /* default */],blurring:true,dimmed:active,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{columns:2,centered:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Order_Controls_Controls,{menu:props.menu,toppingAdded:props.toppingAdded,toppingRemoved:props.toppingRemoved}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Order_Checkout_Checkout,{menu:props.menu,toppings:props.chosenToppings,price:props.totalPrice,checkout:props.checkout,disabled:props.disabled})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Dimmer[\"a\" /* default */],{active:active,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",inverted:true,children:\"Log in to start creating your pizza!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{as:react_router_dom[\"b\" /* Link */],to:\"/authenticate\",color:\"red\",size:\"large\",children:\"Signup/Login\"})]})]})});};/* harmony default export */ var components_Order_Order = (Order_Order);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Loader/Loader.js\nvar Loader = __webpack_require__(210);\n\n// CONCATENATED MODULE: ./src/components/Feedback/Loader/Loader.js\nvar Loader_Loading=function Loading(props){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dimmer[\"a\" /* default */],{active:props.active,inverted:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader[\"a\" /* default */],{size:\"large\",children:\"Loading\"})})});};/* harmony default export */ var Loader_Loader = (Loader_Loading);\n// CONCATENATED MODULE: ./src/components/Feedback/ErrorModal/ErrorModal.js\nvar ErrorModal_ErrorModal=function ErrorModal(props){var _React$useState=react_default.a.useState(!!props.error),_React$useState2=Object(slicedToArray[\"a\" /* default */])(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Something went wrong\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Description,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:props.error})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Actions,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{content:\"Okay\",onClick:function onClick(){props.onClear();setOpen(false);},color:\"red\"})})]});};/* harmony default export */ var Feedback_ErrorModal_ErrorModal = (ErrorModal_ErrorModal);\n// CONCATENATED MODULE: ./src/containers/PizzaPal/PizzaPal.js\nvar PizzaPal_PizzaPal=function PizzaPal(props){// MENU, ERROR AND LOADING STATE AND GET TOPPINGS FROM FIREBASE\nvar _useState=Object(react[\"useState\"])({toppings:[]}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),menuState=_useState2[0],setMenuState=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=Object(react[\"useState\"])({isLoading:true,loadFailed:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loadingState=_useState6[0],setLoadingState=_useState6[1];Object(react[\"useEffect\"])(function(){axios_orders.get(\"/\").then(function(response){var sortedToppings=response.data.toppings.sort(function(a,b){return a.id-b.id;});setMenuState({toppings:sortedToppings});}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"There was a problem fetching the menu\";}setErrorState({error:true,errorMessage:errorMsg});setLoadingState({isLoading:false,loadFailed:menuState.loadFailed});console.log(error.response);});},[]);// ORDER STATE\n// Set order state conditionally - either to old order state or starting state\nvar _useState7=Object(react[\"useState\"])({totalPrice:props.location.state?props.location.state.order.totalPrice:5,chosenToppings:props.location.state?props.location.state.order.chosenToppings:[]}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),orderState=_useState8[0],setOrderState=_useState8[1];// EVENT HANDLERS - ADD TOPPING\nvar addToppingHandler=function addToppingHandler(id){var order=Object(objectSpread2[\"a\" /* default */])({},orderState);// find the chosen topping in the menu\nvar menuIndex=menuState.toppings.findIndex(function(topping){return topping.id===id;});// check if the topping has already been added to the orderToppings array\nvar orderIndex=order.chosenToppings.findIndex(function(topping){return topping.id===id;});// if so, increase its count by 1\nif(orderIndex>-1){order.chosenToppings[orderIndex].count++;}// otherwise (i.e. this topping is being added for the first time)\n// create this topping and add it to the order toppings array\nelse{// Save the id, name and price of the chosen topping; set its count to 1\nvar chosenTopping={id:menuState.toppings[menuIndex].id,name:menuState.toppings[menuIndex].alt,price:menuState.toppings[menuIndex].price,count:1};order.chosenToppings.push(chosenTopping);}// Calculate the new price\nvar newPrice=orderState.totalPrice+menuState.toppings[menuIndex].price;// Update the order state with the new price and updated toppings array\nsetOrderState({totalPrice:newPrice,chosenToppings:order.chosenToppings});};// EVENT HANDLERS - REMOVE TOPPING\nvar removeToppingHandler=function removeToppingHandler(id){var order=Object(objectSpread2[\"a\" /* default */])({},orderState);// Find topping with matching id from the orderToppings\nvar index=order.chosenToppings.findIndex(function(topping){return topping.id===id;});// Get the current price\nvar price=order.totalPrice;// If topping was found, update the price and decrease the count\nif(index>=0){price=price-order.chosenToppings[index].price;order.chosenToppings[index].count--;// If the count is now 0, remove the topping completely\nif(order.chosenToppings[index].count<1){order.chosenToppings.splice(index,1);}}// Update order state with updated price and updated toppings array\nsetOrderState({totalPrice:price,chosenToppings:order.chosenToppings});};// EVENT HANDLERS - CHECK OUT\nvar checkoutHandler=function checkoutHandler(){props.history.push({pathname:\"place-order\",state:{order:orderState,menu:menuState.toppings}});};// ERROR HANDLER\nvar errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});setLoadingState({isLoading:false,loadFailed:true});};// DISABLE CHECKOUT BUTTON IF NO TOPPINGS CHOSEN\nvar checkoutDisabled=true;if(orderState.chosenToppings.length>0){checkoutDisabled=false;}// DISPLAY PIZZA PAL MENU AND CONTROLS\nvar pizzapalMenu=errorState.error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader_Loader,{active:loadingState.isLoading});if(menuState.toppings.length>0){pizzapalMenu=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{divided:\"vertically\",stackable:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Row,{centered:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Menu_Menu,{menu:menuState.toppings})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Order_Order,{menu:menuState.toppings,toppingAdded:addToppingHandler,toppingRemoved:removeToppingHandler,chosenToppings:orderState.chosenToppings,totalPrice:orderState.totalPrice,checkout:checkoutHandler,disabled:checkoutDisabled})]});}else if(loadingState.loadFailed){pizzapalMenu=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"We're having some issues loading the menu... Please try again later.\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:pizzapalMenu});};/* harmony default export */ var containers_PizzaPal_PizzaPal = (PizzaPal_PizzaPal);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Table/Table.js + 6 modules\nvar Table = __webpack_require__(217);\n\n// CONCATENATED MODULE: ./src/components/OrdersTable/TableRow/TableRow.js\nvar TableRow_TableRow=function TableRow(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */].Row,{verticalAlign:\"top\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].Cell,{children:props.date}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].Cell,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */],{children:props.toppings.map(function(topping){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[topping.name,\" : \",topping.count]},topping.id);})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */].Cell,{children:[\"\\u20AC\",props.price.toFixed(2)]})]});};/* harmony default export */ var OrdersTable_TableRow_TableRow = (TableRow_TableRow);\n// CONCATENATED MODULE: ./src/components/OrdersTable/OrdersTable.js\nvar OrdersTable_OrdersTable=function OrdersTable(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].Header,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */].Row,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].HeaderCell,{width:4,children:\"Order Date\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].HeaderCell,{width:8,children:\"Pizza Description\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].HeaderCell,{width:4,children:\"Price\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */].Body,{children:props.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OrdersTable_TableRow_TableRow,{toppings:order.chosenToppings,price:order.totalPrice,date:order.date},order.id);})})]});};/* harmony default export */ var components_OrdersTable_OrdersTable = (OrdersTable_OrdersTable);\n// CONCATENATED MODULE: ./src/containers/YourOrders/YourOrders.js\nvar YourOrders_YourOrders=function YourOrders(props){var auth=Object(react[\"useContext\"])(auth_context);// ORDER, ERROR AND LOADING STATE\nvar _useState=Object(react[\"useState\"])({orders:[]}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),pastOrdersState=_useState2[0],setPastOrdersState=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=Object(react[\"useState\"])({isLoading:true,ordersLoaded:false,loadFailed:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loadingState=_useState6[0],setLoadingState=_useState6[1];// FETCH ORDERS\nObject(react[\"useEffect\"])(function(){var uid=auth.userId;var path=\"/deleteuser/\"+uid;axios_orders.delete(path,{headers:{Authorization:\"Bearer \"+auth.token}}).then(function(response){console.log(\"User deleted!\");auth.logout();props.history.push(\"/\");}).catch(function(error){setErrorState({error:true,errorMessage:error.response.data.message});setLoadingState({isLoading:false,ordersLoaded:loadingState.ordersLoaded,loadFailed:loadingState.loadFailed});});},[]);// ERROR HANDLER\nvar errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});setLoadingState({isLoading:loadingState.isLoading,ordersLoaded:loadingState.ordersLoaded,loadFailed:true});};// DISPLAY ORDERS\nvar orders=errorState.error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader_Loader,{active:loadingState.isLoading});if(loadingState.ordersLoaded&&pastOrdersState.orders.length>0){orders=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_OrdersTable_OrdersTable,{orders:pastOrdersState.orders});}else if(loadingState.loadFailed){orders=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"We can't load your orders... maybe try creating one?\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:orders});};/* harmony default export */ var containers_YourOrders_YourOrders = (YourOrders_YourOrders);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js + 14 modules\nvar Form = __webpack_require__(215);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/addons/Select/Select.js\nvar Select = __webpack_require__(211);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(218);\n\n// CONCATENATED MODULE: ./src/containers/PlaceOrder/PlaceOrder.js\nvar PlaceOrder_PlaceOrder=function PlaceOrder(props){var auth=Object(react[\"useContext\"])(auth_context);// CREATE STATES\nvar _useState=Object(react[\"useState\"])({totalPrice:props.location.state.order.totalPrice,chosenToppings:props.location.state.order.chosenToppings}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),orderState=_useState2[0],setOrderState=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=Object(react[\"useState\"])({details:{name:\"\",phone:\"\",method:\"\",address:\"\"}}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),customerState=_useState6[0],setCustomerState=_useState6[1];var _useState7=Object(react[\"useState\"])({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:true,valid:false},{id:\"form-input-phone\",message:\"Please enter your phone number (area code and number)\",required:true,valid:false},{id:\"form-input-method\",message:\"Please choose collection or delivery\",required:true,valid:false},{id:\"form-input-address\",message:\"Please enter your delivery address (house number and street)\",required:false,valid:true}],formValid:false}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),validationState=_useState8[0],setValidationState=_useState8[1];var _useState9=Object(react[\"useState\"])({name:null,phone:null,method:null,address:null}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),messageState=_useState10[0],setMessageState=_useState10[1];// CANCEL (GO BACK) HANDLER\nvar cancelHandler=function cancelHandler(){props.history.push({pathname:\"/\",state:{order:orderState}});};// VALIDATE FUNCTION\nvar validate=function validate(value,inputIdentifier,inputType){// copy the validation state\nvar validation=Object(objectSpread2[\"a\" /* default */])({},validationState);// find the rule for this input\nvar inputRule=validation.rules.findIndex(function(input){return input.id===inputIdentifier;});var message=null;// check if it is required and also empty (for inputs only)\nif(validation.rules[inputRule].required&&inputType===\"input\"&&value.trim()===\"\"){// get the error message and set valid to false\nmessage=validation.rules[inputRule].message;validation.rules[inputRule].valid=false;}else if(inputIdentifier===\"form-input-phone\"){//check for a valid phone number\nvar pattern=/^[+]?[(]?[0-9]{3,5}[)]?[-\\s.]?[0-9]{6,7}$/;var validNum=pattern.test(value);if(validNum){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(inputIdentifier===\"form-input-name\"){//check for a valid name (letters and spaces only)\nvar _pattern=/^[A-Za-z\\s]{2,30}$/;var validName=_pattern.test(value);if(validName){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(value===\"Delivery\"){//set address to required\nvalidation.rules[inputRule].valid=true;validation.rules[3].valid=false;validation.rules[3].required=true;}else if(value===\"Collection\"){//set address to not required\nvalidation.rules[inputRule].valid=true;validation.rules[3].required=false;validation.rules[3].valid=true;}else if(validation.rules[inputRule].required&&inputIdentifier===\"form-input-address\"){//check for a valid address (alphanumeric plus some special characters)\nvar _pattern2=/^[#.0-9a-zA-Z\\s,-]{2,50}$/;var validAddress=_pattern2.test(value);if(validAddress){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else{// otherwise reset the message and set valid back to true\nmessage=null;validation.rules[inputRule].valid=true;}var msgState=Object(objectSpread2[\"a\" /* default */])({},messageState);switch(inputIdentifier){case\"form-input-name\":msgState.name=message;break;case\"form-input-phone\":msgState.phone=message;break;case\"form-input-method\":msgState.method=message;break;case\"form-input-address\":msgState.address=message;break;default:// code block\n}setMessageState(Object(objectSpread2[\"a\" /* default */])({},msgState));// check if the whole form is valid\nvar formIsValid=true;for(var i in validation.rules){if(!validation.rules[i].valid){formIsValid=false;}}// update state\nsetValidationState({rules:validation.rules,formValid:formIsValid});};// FORM CHANGED HANDLER\nvar formChangedHandler=function formChangedHandler(event,inputIdentifier,inputType){var customerDetails=customerState.details;switch(inputIdentifier){case\"form-input-name\":customerDetails.name=event.target.value;validate(event.target.value,inputIdentifier,inputType);break;case\"form-input-phone\":customerDetails.phone=event.target.value;validate(event.target.value,inputIdentifier,inputType);break;case\"form-input-method\":customerDetails.method=event.target.textContent;validate(event.target.textContent,inputIdentifier,inputType);break;case\"form-input-address\":customerDetails.address=event.target.value;validate(event.target.value,inputIdentifier,inputType);break;default:// code block\n}setCustomerState({details:customerDetails});};// DISABLE/ENABLE FORM SUBMIT BUTTON\nvar disabled=!validationState.formValid;// CHECKOUT HANDLER\nvar checkoutHandler=function checkoutHandler(){// get order from orderState\nvar order=orderState;// add unique id\norder.id=Object(v4[\"a\" /* default */])();// create formatted date\nvar orderDate=new Date();var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];var days=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];var dayNum=orderDate.getDay();var day=days[dayNum];var monthNum=orderDate.getMonth();var month=months[monthNum];var date=orderDate.getDate();var year=orderDate.getFullYear();// saves date in the format \"Fri 19 Mar 2021\"\nvar formattedDate=day+\" \"+date+\" \"+month+\" \"+year;// add formattedDate to order\norder.date=formattedDate;// add customer details to order\norder.details=customerState.details;// add user id\norder.userId=auth.userId;axios_orders.post(\"/checkout\",order,{headers:{Authorization:\"Bearer \"+auth.token}}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"There was a problem creating your order\";}setErrorState({error:true,errorMessage:errorMsg});});};// ERROR HANDLER\nvar errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});};// DISPLAY ERROR MODAL\nvar orderForm=null;if(errorState.error){orderForm=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler});}else{orderForm=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Row,{columns:2,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:6,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Confirm your order:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkout_OrderSummary_OrderSummary,{menu:props.location.state.menu,toppings:props.location.state.order.chosenToppings,price:props.location.state.order.totalPrice}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"red\",onClick:cancelHandler,children:\"Go Back\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Enter your details:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{id:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.name,required:true,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-name\",\"input\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.phone,required:true,label:\"Phone\",placeholder:\"Phone e.g. 086-1234567\",id:\"form-input-phone\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-phone\",\"input\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Field,{control:Select[\"a\" /* default */],required:true,error:messageState.method,label:\"Delivery method\",options:[{key:\"c\",text:\"Collection\",value:\"collection\"},{key:\"d\",text:\"Delivery\",value:\"delivery\"}],placeholder:\"Collection or Delivery\",id:\"form-input-method\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-method\",\"select\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.address,required:validationState.rules[3].required,fluid:true,label:\"Address\",placeholder:\"Address\",id:\"form-input-address\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-address\",\"input\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",color:\"green\",disabled:disabled,onClick:checkoutHandler,children:\"Submit\"})]})]})})]})});}// DISPLAY ORDER SUMMARY AND FORM\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:orderForm});};/* harmony default export */ var containers_PlaceOrder_PlaceOrder = (Object(react_router[\"g\" /* withRouter */])(PlaceOrder_PlaceOrder));\n// CONCATENATED MODULE: ./src/containers/PlaceOrder/OrderSuccess/OrderSuccess.js\nvar OrderSuccess_OrderSuccess=function OrderSuccess(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Your Order has been placed!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:\"/images/delivery.gif\",size:\"medium\",centered:true})]});};/* harmony default export */ var PlaceOrder_OrderSuccess_OrderSuccess = (OrderSuccess_OrderSuccess);\n// CONCATENATED MODULE: ./src/containers/Authenticate/Authenticate.js\nvar Authenticate_Authenticate=function Authenticate(props){var auth=Object(react[\"useContext\"])(auth_context);var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isLoginMode=_useState2[0],setIsLoginMode=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var switchModeHandler=function switchModeHandler(){setIsLoginMode(function(prevMode){return!prevMode;});setAuthDetailsState({details:{name:\"\",email:\"\",password:\"\"}});setValidationState({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:true,valid:false},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:true,valid:false},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:true,valid:false}],formValid:false});document.getElementById(\"form\").reset();};var _useState5=Object(react[\"useState\"])({details:{name:\"\",email:\"\",password:\"\"}}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),authDetailsState=_useState6[0],setAuthDetailsState=_useState6[1];var _useState7=Object(react[\"useState\"])({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:true,valid:false},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:true,valid:false},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:true,valid:false}],formValid:false}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),validationState=_useState8[0],setValidationState=_useState8[1];var _useState9=Object(react[\"useState\"])({name:null,email:null,address:null}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),messageState=_useState10[0],setMessageState=_useState10[1];var validate=function validate(value,inputIdentifier){// copy the validation state\nvar validation=Object(objectSpread2[\"a\" /* default */])({},validationState);// find the rule for this input\nvar inputRule=validation.rules.findIndex(function(input){return input.id===inputIdentifier;});var message=null;// check if it is required and also empty\nif(validation.rules[inputRule].required&&value.trim()===\"\"){// get the error message and set valid to false\nmessage=validation.rules[inputRule].message;validation.rules[inputRule].valid=false;}else if(inputIdentifier===\"form-input-email\"){//check for a valid email\nvar pattern=/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;var validEmail=pattern.test(value);if(validEmail){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(inputIdentifier===\"form-input-password\"){//check for a valid password, letters and numbers only, 6 characters min\nvar _pattern=/^[A-Za-z0-9\\s]{6,}$/;var validPassword=_pattern.test(value);if(validPassword){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(validation.rules[inputRule].required&&inputIdentifier===\"form-input-name\"){//check for a valid name (letters and spaces only)\nvar _pattern2=/^[A-Za-z\\s]{2,30}$/;var validName=_pattern2.test(value);if(validName){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else{// otherwise reset the message and set valid back to true\nmessage=null;validation.rules[inputRule].valid=true;}var msgState=Object(objectSpread2[\"a\" /* default */])({},messageState);switch(inputIdentifier){case\"form-input-name\":msgState.name=message;break;case\"form-input-email\":msgState.email=message;break;case\"form-input-password\":msgState.password=message;break;default:// code block\n}setMessageState(Object(objectSpread2[\"a\" /* default */])({},msgState));// check if the whole form is valid\nvar formIsValid=true;for(var i in validation.rules){if(isLoginMode&&i==0){continue;}if(!validation.rules[i].valid){formIsValid=false;}}// update state\nsetValidationState({rules:validation.rules,formValid:formIsValid});};var formChangedHandler=function formChangedHandler(event,inputIdentifier){var authDetails=authDetailsState.details;switch(inputIdentifier){case\"form-input-name\":authDetails.name=event.target.value;validate(event.target.value,inputIdentifier);break;case\"form-input-email\":authDetails.email=event.target.value;validate(event.target.value,inputIdentifier);break;case\"form-input-password\":var password=event.target.value;var trimmedPassword=password.trim();authDetails.password=trimmedPassword;validate(trimmedPassword,inputIdentifier);break;default:// code block\n}setAuthDetailsState({details:authDetails});};var errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});};var signupHandler=function signupHandler(){axios_orders.post(\"/signup\",authDetailsState.details).then(function(response){auth.login(response.data.userId,response.data.token);props.history.push(\"/\");}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"Something went wrong - signup failed\";}setErrorState({error:true,errorMessage:errorMsg});});};var loginHandler=function loginHandler(){axios_orders.post(\"/login\",authDetailsState.details).then(function(response){auth.login(response.data.userId,response.data.token);props.history.push(\"/\");}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"Something went wrong - login failed\";}setErrorState({error:true,errorMessage:errorMsg});});};var disabled=!validationState.formValid;var signupBtnColor=\"grey\";var loginBtnColor=\"grey\";var authForm=null;if(errorState.error){authForm=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler});}else{if(isLoginMode){authForm=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Already registered? Log In!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{id:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.email,autoComplete:\"off\",required:true,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-email\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.password,type:\"password\",autoComplete:\"off\",required:true,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-password\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",color:\"green\",disabled:disabled,onClick:loginHandler,children:\"Log In\"})]})]});loginBtnColor=\"red\";}else{authForm=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"First time here? Sign Up!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{id:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.email,autoComplete:\"off\",required:true,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-email\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.password,type:\"password\",autoComplete:\"off\",required:true,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-password\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.name,autoComplete:\"off\",required:true,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-name\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",color:\"green\",disabled:disabled,onClick:signupHandler,children:\"Sign Up\"})]})]});signupBtnColor=\"red\";}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Row,{centered:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{width:10,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */].Group,{widths:\"2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{size:\"large\",color:signupBtnColor,onClick:switchModeHandler,children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */].Or,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{size:\"large\",color:loginBtnColor,onClick:switchModeHandler,children:\"Log In\"})]}),authForm]})})});};/* harmony default export */ var containers_Authenticate_Authenticate = (Authenticate_Authenticate);\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/addons/Confirm/Confirm.js\nvar Confirm = __webpack_require__(212);\n\n// CONCATENATED MODULE: ./src/containers/YourAccount/YourAccount.js\nvar YourAccount_YourAccount=function YourAccount(props){var auth=Object(react[\"useContext\"])(auth_context);// ACCOUNT, ERROR AND LOADING STATE\nvar _useState=Object(react[\"useState\"])({user:null}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),accountState=_useState2[0],setAccountState=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=Object(react[\"useState\"])({isLoading:true,loadFailed:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),loadingState=_useState6[0],setLoadingState=_useState6[1];// Manage state of confirm deletion dialog\nvar _useState7=Object(react[\"useState\"])({open:false}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),confirmState=_useState8[0],setConfirmState=_useState8[1];var open=function open(){return setConfirmState({open:true});};var close=function close(){return setConfirmState({open:false});};// FETCH ACCOUNT DETAILS\nObject(react[\"useEffect\"])(function(){var uid=auth.userId;var path=\"/users/\"+uid;axios_orders.get(path,{headers:{Authorization:\"Bearer \"+auth.token}}).then(function(response){setAccountState({user:response.data.user});}).catch(function(error){setErrorState({error:true,errorMessage:error.response.data.message});setLoadingState({isLoading:false,loadFailed:loadingState.loadFailed});});},[]);// UPDATE AND DELETE HANDLERS\nvar updateHandler=function updateHandler(){props.history.push({pathname:\"/update-account\",state:{user:accountState.user}});};var deleteHandler=function deleteHandler(){var uid=\"12345678\";var path=\"/deleteuser/\"+uid;axios_orders.delete(path).then(function(response){console.log(\"User deleted!\");props.history.push(\"/\");}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"There was a problem deleting your account\";}setErrorState({error:true,errorMessage:errorMsg});});};// ERROR HANDLER\nvar errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});setLoadingState({isLoading:false,loadFailed:true});};// DISPLAY ACCOUNT\nvar account=errorState.error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loader_Loader,{active:loadingState.isLoading});if(accountState.user&&!errorState.error){account=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Row,{centered:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Segment[\"a\" /* default */],{color:\"red\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{divided:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */].Column,{width:8,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h3\",textAlign:\"center\",color:\"red\",children:\"Your Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Icon,{name:\"user\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Name: \",accountState.user.name,\" \"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Icon,{name:\"mail\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Email: \",accountState.user.email,\" \"]})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Item,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(List[\"a\" /* default */].Icon,{name:\"lock\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Password: \"}),\" \",\"\\u25AA\\u25AA\\u25AA\\u25AA\\u25AA\\u25AA\",\" \"]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"accountButtons\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{icon:true,labelPosition:\"left\",color:\"orange\",onClick:updateHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"pencil\"}),\"Update Your Details\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{icon:true,labelPosition:\"left\",color:\"red\",onClick:open,children:[\"Delete Your Account\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"trash\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Confirm[\"a\" /* default */],{open:confirmState.open,onCancel:close,onConfirm:deleteHandler,header:\"Are you sure?\",content:\"Deleting your account is a permanent action and cannot be undone\",cancelButton:\"Take me back\",confirmButton:\"Yes, delete my account permanently\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:8,textAlign:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:\"https://img.jamieoliver.com/jamieoliver/recipe-database/oldImages/large/1474_2_1430128688.jpg?tr=w-800,h-1066\",rounded:true,size:\"large\"})})]})})})})});}else if(loadingState.loadFailed){account=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"User can't be found\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:account});};/* harmony default export */ var containers_YourAccount_YourAccount = (YourAccount_YourAccount);\n// CONCATENATED MODULE: ./src/containers/YourAccount/AccountUpdate/AccountUpdate.js\nvar AccountUpdate_AccountUpdate=function AccountUpdate(props){var auth=Object(react[\"useContext\"])(auth_context);var _useState=Object(react[\"useState\"])({user:props.history.location.state.user}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),accountState=_useState2[0],setAccountState=_useState2[1];var _useState3=Object(react[\"useState\"])({error:false,errorMessage:null}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errorState=_useState4[0],setErrorState=_useState4[1];var _useState5=Object(react[\"useState\"])({rules:[{id:\"form-input-name\",message:\"Please enter your name (letters and spaces only, min length 2)\",required:true,valid:false},{id:\"form-input-email\",message:\"Please enter a valid email address (something@something.something)\",required:true,valid:false},{id:\"form-input-password\",message:\"Please enter a password (letters and numbers only, min length 6)\",required:true,valid:false}],formValid:false}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),validationState=_useState6[0],setValidationState=_useState6[1];var _useState7=Object(react[\"useState\"])({name:null,email:null,address:null}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),messageState=_useState8[0],setMessageState=_useState8[1];var validate=function validate(value,inputIdentifier){// copy the validation state\nvar validation=Object(objectSpread2[\"a\" /* default */])({},validationState);// find the rule for this input\nvar inputRule=validation.rules.findIndex(function(input){return input.id===inputIdentifier;});var message=null;// check if it is required and also empty\nif(validation.rules[inputRule].required&&value.trim()===\"\"){// get the error message and set valid to false\nmessage=validation.rules[inputRule].message;validation.rules[inputRule].valid=false;}else if(inputIdentifier===\"form-input-email\"){//check for a valid email\nvar pattern=/^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;var validEmail=pattern.test(value);if(validEmail){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(inputIdentifier===\"form-input-password\"){//check for a valid password, letters and numbers only, 6 characters min\nvar _pattern=/^[A-Za-z0-9\\s]{6,}$/;var validPassword=_pattern.test(value);if(validPassword){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else if(validation.rules[inputRule].required&&inputIdentifier===\"form-input-name\"){//check for a valid name (letters and spaces only)\nvar _pattern2=/^[A-Za-z\\s]{2,30}$/;var validName=_pattern2.test(value);if(validName){validation.rules[inputRule].valid=true;}else{validation.rules[inputRule].valid=false;message=validation.rules[inputRule].message;}}else{// otherwise reset the message and set valid back to true\nmessage=null;validation.rules[inputRule].valid=true;}var msgState=Object(objectSpread2[\"a\" /* default */])({},messageState);switch(inputIdentifier){case\"form-input-name\":msgState.name=message;break;case\"form-input-email\":msgState.email=message;break;case\"form-input-password\":msgState.password=message;break;default:// code block\n}setMessageState(Object(objectSpread2[\"a\" /* default */])({},msgState));// check if the whole form is valid\nvar formIsValid=true;for(var i in validation.rules){if(!validation.rules[i].valid){formIsValid=false;}}// update state\nsetValidationState({rules:validation.rules,formValid:formIsValid});};var formChangedHandler=function formChangedHandler(event,inputIdentifier){var userDetails=accountState.user;switch(inputIdentifier){case\"form-input-name\":userDetails.name=event.target.value;validate(event.target.value,inputIdentifier);break;case\"form-input-email\":userDetails.email=event.target.value;validate(event.target.value,inputIdentifier);break;case\"form-input-password\":var password=event.target.value;var trimmedPassword=password.trim();userDetails.password=trimmedPassword;validate(trimmedPassword,inputIdentifier);break;default:// code block\n}setAccountState({user:userDetails});};var updateHandler=function updateHandler(){var uid=auth.userId;var path=\"/updateuser/\"+uid;axios_orders.put(path,accountState.user,{headers:{Authorization:\"Bearer \"+auth.token}}).then(function(response){props.history.push(\"/users/\"+auth.userId);}).catch(function(error){var errorMsg=\"\";if(error.response){errorMsg=error.response.data.message;}else{errorMsg=\"There was a problem updating your account\";}setErrorState({error:true,errorMessage:errorMsg});});};var disabled=!validationState.formValid;var errorHandler=function errorHandler(){setErrorState({error:false,errorMessage:null});};var updateForm=null;if(errorState.error){updateForm=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Feedback_ErrorModal_ErrorModal,{error:errorState.errorMessage,onClear:errorHandler});}else{updateForm=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Row,{centered:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */].Column,{width:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Segment[\"a\" /* default */],{color:\"red\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Header[\"a\" /* default */],{as:\"h2\",textAlign:\"center\",color:\"red\",children:\"Update Your Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{id:\"form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.email,autoComplete:\"off\",required:true,label:\"Email\",placeholder:\"Email e.g. username@mail.com\",id:\"form-input-email\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-email\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.password,type:\"password\",autoComplete:\"off\",required:true,label:\"Password\",placeholder:\"Password\",id:\"form-input-password\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-password\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{error:messageState.name,autoComplete:\"off\",required:true,label:\"Name\",placeholder:\"Name\",id:\"form-input-name\",onChange:function onChange(event){return formChangedHandler(event,\"form-input-name\");}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",color:\"green\",disabled:disabled,onClick:updateHandler,children:\"Update Details\"})]})]})})})});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.Fragment,{children:updateForm});};/* harmony default export */ var YourAccount_AccountUpdate_AccountUpdate = (AccountUpdate_AccountUpdate);\n// CONCATENATED MODULE: ./src/components/Layout/Layout.js\nvar Layout_Layout_Layout=function Layout(props){var _useState=Object(react[\"useState\"])({isLoggedIn:false}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loggedInState=_useState2[0],setLoggedInState=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var history=react_router[\"f\" /* useHistory */];var login=Object(react[\"useCallback\"])(function(uid,token){setToken(token);setUserId(uid);localStorage.setItem(\"userData\",JSON.stringify({userId:uid,token:token}));},[]);var logout=Object(react[\"useCallback\"])(function(){setToken(null);setUserId(null);localStorage.removeItem(\"userData\");history.push(\"/\");},[]);Object(react[\"useEffect\"])(function(){var storedData=JSON.parse(localStorage.getItem(\"userData\"));if(storedData&&storedData.token){login(storedData.userId,storedData.token);}},[login]);var routes;if(token){routes=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:containers_PizzaPal_PizzaPal}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/orders/:uid\",component:containers_YourOrders_YourOrders}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/place-order\",component:containers_PlaceOrder_PlaceOrder}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/order-success\",component:PlaceOrder_OrderSuccess_OrderSuccess}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/users/:uid\",component:containers_YourAccount_YourAccount}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/update-account\",component:YourAccount_AccountUpdate_AccountUpdate})]});}else{routes=/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:containers_PizzaPal_PizzaPal}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/authenticate\",component:containers_Authenticate_Authenticate})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_context.Provider,{value:{isLoggedIn:!!token,token:token,userId:userId,login:login,logout:logout},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav_Nav,{}),routes]})});};/* harmony default export */ var components_Layout_Layout = (Layout_Layout_Layout);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Layout_Layout,{})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 225)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[197,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\src\\index.css","C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\src\\components\\Layout\\Layout.css","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/context/auth-context.js","C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\node_modules\\url-loader\\dist\\cjs.js??ref--5-oneOf-1!C:\\Users\\niall\\Documents\\GitHub\\react-labs\\mern-lab-3\\frontend\\src\\assets\\logo.png","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Nav/Nav.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/axios-orders.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Menu/MenuItem/MenuItem.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Menu/Menu.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Controls/Control/Control.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Controls/Controls.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Checkout/OrderSummary/OrderSummary.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Checkout/OrderModal/OrderModal.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Checkout/Checkout.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Order/Order.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Feedback/Loader/Loader.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Feedback/ErrorModal/ErrorModal.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/PizzaPal/PizzaPal.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/OrdersTable/TableRow/TableRow.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/OrdersTable/OrdersTable.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/YourOrders/YourOrders.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/PlaceOrder/PlaceOrder.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/PlaceOrder/OrderSuccess/OrderSuccess.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/Authenticate/Authenticate.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/YourAccount/YourAccount.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/containers/YourAccount/AccountUpdate/AccountUpdate.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/components/Layout/Layout.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/App.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/reportWebVitals.js","C:/Users/niall/Documents/GitHub/react-labs/mern-lab-3/frontend/src/index.js"],"names":["AuthContext","createContext","isLoggedIn","login","logout","Nav","props","auth","useContext","logo","NavLink","userId","Link","instance","axios","create","baseURL","process","REACT_APP_BACKEND_URL","MenuItem","image","alt","price","toFixed","Menu","menu","map","toppings","index","id","Control","added","removed","Controls","toppingAdded","toppingRemoved","OrderSummary","summary","length","topping","name","count","OrderModal","useState","open","setOpen","disabled","checkout","Checkout","Order","active","Grid","chosenToppings","totalPrice","Loading","ErrorModal","React","error","onClear","PizzaPal","menuState","setMenuState","errorMessage","errorState","setErrorState","isLoading","loadFailed","loadingState","setLoadingState","useEffect","get","then","response","sortedToppings","data","sort","a","b","catch","errorMsg","message","console","log","location","state","order","orderState","setOrderState","addToppingHandler","menuIndex","findIndex","orderIndex","chosenTopping","push","newPrice","removeToppingHandler","splice","checkoutHandler","history","pathname","errorHandler","checkoutDisabled","pizzapalMenu","TableRow","date","OrdersTable","orders","YourOrders","pastOrdersState","setPastOrdersState","ordersLoaded","uid","path","delete","headers","Authorization","token","PlaceOrder","details","phone","method","address","customerState","setCustomerState","rules","required","valid","formValid","validationState","setValidationState","messageState","setMessageState","cancelHandler","validate","value","inputIdentifier","inputType","validation","inputRule","input","trim","pattern","validNum","test","validName","validAddress","msgState","formIsValid","i","formChangedHandler","event","customerDetails","target","textContent","uuidv4","orderDate","Date","months","days","dayNum","getDay","day","monthNum","getMonth","month","getDate","year","getFullYear","formattedDate","post","orderForm","Select","key","text","withRouter","OrderSuccess","Authenticate","isLoginMode","setIsLoginMode","switchModeHandler","prevMode","setAuthDetailsState","email","password","document","getElementById","reset","authDetailsState","validEmail","validPassword","authDetails","trimmedPassword","signupHandler","loginHandler","signupBtnColor","loginBtnColor","authForm","YourAccount","user","accountState","setAccountState","confirmState","setConfirmState","close","updateHandler","deleteHandler","account","AccountUpdate","userDetails","put","updateForm","Layout","loggedInState","setLoggedInState","setToken","setUserId","useHistory","useCallback","localStorage","setItem","JSON","stringify","removeItem","storedData","parse","getItem","routes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { createContext } from 'react';\r\n\r\nconst AuthContext = createContext({\r\n  isLoggedIn: false,\r\n  login: () => {},\r\n  logout: () => {}\r\n});\r\n\r\nexport default AuthContext;","export default __webpack_public_path__ + \"static/media/logo.a8255238.png\";","import React, { useContext } from \"react\";\r\nimport AuthContext from \"../../context/auth-context\";\r\nimport { Menu } from \"semantic-ui-react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\n\r\nimport logo from \"../../assets/logo.png\";\r\n\r\nconst Nav = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  return (\r\n    <Menu color=\"red\" stackable inverted>\r\n      <Menu.Item>\r\n        <img src={logo} alt=\"Pizza Pal Logo\" />\r\n      </Menu.Item>\r\n\r\n      <Menu.Item as={NavLink} to=\"/\" exact>\r\n        Pizza Pal\r\n      </Menu.Item>\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/orders/${auth.userId}`}>\r\n          Your Orders\r\n        </Menu.Item>\r\n      )}\r\n\r\n{auth.isLoggedIn && (\r\n        <Menu.Item as={NavLink} to={`/users/${auth.userId}`}>\r\n          Your Account\r\n        </Menu.Item>\r\n      )}\r\n\r\n  {!auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={NavLink} to=\"/authenticate\">\r\n            Signup/Login\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n\r\n      {auth.isLoggedIn && (\r\n        <Menu.Menu position=\"right\">\r\n          <Menu.Item as={Link} to=\"/\" onClick={auth.logout}>\r\n            Log out\r\n          </Menu.Item>\r\n        </Menu.Menu>\r\n      )}\r\n    </Menu>\r\n\r\n    \r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: process.env.REACT_APP_BACKEND_URL\r\n});\r\n\r\nexport default instance;","import React from \"react\";\r\nimport { Grid, Image, Label } from \"semantic-ui-react\";\r\n\r\nconst MenuItem = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign=\"center\">\r\n      <Image src={props.image} alt={props.alt} size=\"tiny\" centered />\r\n      <Label pointing>&euro; {props.price.toFixed(2)} </Label>\r\n    </Grid.Column>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import React from \"react\";\r\nimport { Grid, Header, Segment } from \"semantic-ui-react\";\r\nimport MenuItem from \"./MenuItem/MenuItem\";\r\n\r\nconst Menu = (props) => {\r\n  return (\r\n    <Grid.Column width={12}>\r\n      <Segment color=\"red\">\r\n        <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n          Pizza Pal Menu\r\n        </Header>\r\n      </Segment>\r\n      <Grid>\r\n        {props.menu.map((toppings, index) => {\r\n          return (\r\n            <MenuItem\r\n              key={toppings.id}\r\n              image={toppings.image}\r\n              alt={toppings.alt}\r\n              price={toppings.price}\r\n            />\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Grid.Column>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport { Grid, Button, Icon } from 'semantic-ui-react';\r\n\r\nconst Control = (props) => {\r\n  return (\r\n    <Grid.Column mobile={4} computer={2} textAlign='center'>\r\n        <p>{props.alt}</p>\r\n        <Button.Group size='mini'>\r\n            <Button color='green' icon onClick={props.added}>\r\n                <Icon name='plus' />\r\n            </Button>\r\n            <Button color='red' icon onClick={props.removed}>\r\n                <Icon name='minus' />\r\n            </Button>\r\n        </Button.Group>\r\n    </Grid.Column>  \r\n  )\r\n};\r\n\r\nexport default Control;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport Control from './Control/Control';\r\n\r\nconst Controls = (props) => {\r\n\r\n  return (\r\n    <Grid.Column width={8}>\r\n      <Header as='h2' textAlign='center' className='step'>\r\n          Step 1: Choose your toppings\r\n      </Header>\r\n      <Grid>\r\n          {props.menu.map((toppings, index) => {\r\n          return <Control \r\n              key={toppings.id}\r\n              alt={toppings.alt}\r\n              added={() => props.toppingAdded(toppings.id)}\r\n              removed={() => props.toppingRemoved(toppings.id)}\r\n          />\r\n          })}\r\n      </Grid>\r\n  </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Controls;\r\n","import React from \"react\";\r\nimport { Header, List } from 'semantic-ui-react';\r\n\r\nconst OrderSummary = (props) => {\r\n\r\n    let summary = null;\r\n\r\n    if(props.toppings.length > 0){\r\n\r\n        summary = (\r\n            <div>\r\n                <Header as='h3'>\r\n                    Your Pizza: \r\n                </Header>\r\n\r\n                <List divided verticalAlign='middle'>\r\n                    {props.toppings.map((topping) => {\r\n                        return( \r\n                            <List.Item key={topping.id}>\r\n                                {topping.name}: {topping.count}\r\n                            </List.Item>\r\n                        )\r\n                    })}\r\n                </List>\r\n\r\n                <Header as='h4' className='h4margin'>\r\n                    Total Price: &euro; {props.price.toFixed(2)}\r\n                </Header>\r\n            </div>\r\n        );\r\n    }\r\n    else{\r\n        summary = (\r\n            <div>\r\n                <Header as='h4' className=\"h4margin\">\r\n                    Start adding some toppings! \r\n                </Header>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {summary}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrderSummary;","import React, {useState} from \"react\";\r\nimport { Button, Modal } from 'semantic-ui-react';\r\nimport OrderSummary from '../OrderSummary/OrderSummary';\r\n\r\nconst OrderModal = (props) => {\r\n\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <Modal\r\n        onClose={() => setOpen(false)}\r\n        onOpen={() => setOpen(true)}\r\n        open={open}\r\n        trigger={<Button color='green' size='large'>Order Now!</Button>}\r\n        >\r\n            <Modal.Header>Confirm your choices:</Modal.Header>\r\n            <Modal.Content>\r\n\r\n              <OrderSummary \r\n                  menu = {props.menu}\r\n                  toppings = {props.toppings}\r\n                  price = {props.price}\r\n              />\r\n\r\n            </Modal.Content>\r\n            <Modal.Actions>\r\n              <Button color='red' onClick={() => setOpen(false)}>\r\n                  Go Back\r\n              </Button>\r\n              <Button color='green' disabled={props.disabled} onClick={ () => { props.checkout(); setOpen(false); } }>\r\n                  Check out\r\n              </Button>\r\n            </Modal.Actions>\r\n        </Modal>\r\n    )\r\n};\r\n\r\nexport default OrderModal;\r\n","import React from \"react\";\r\nimport { Grid, Header } from 'semantic-ui-react';\r\nimport OrderSummary from './OrderSummary/OrderSummary';\r\nimport OrderModal from './OrderModal/OrderModal';\r\n\r\nconst Checkout = (props) => {\r\n  return (\r\n    <Grid.Column width={6} textAlign='right'>\r\n\r\n        <Header as='h2' textAlign='center' className='step'>\r\n            Step 2: Check out \r\n        </Header>\r\n\r\n        <OrderSummary \r\n            menu = {props.menu}\r\n            toppings = {props.toppings}\r\n            price = {props.price}\r\n        />\r\n        <OrderModal \r\n            menu = {props.menu}\r\n            toppings = {props.toppings}\r\n            price = {props.price}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n        />\r\n\r\n    </Grid.Column>\r\n  )\r\n};\r\n\r\nexport default Checkout;\r\n","import React, { useContext } from \"react\";\r\nimport { Grid, Dimmer, Header, Button } from \"semantic-ui-react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Controls from \"./Controls/Controls\";\r\nimport Checkout from \"./Checkout/Checkout\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\n\r\nconst Order = (props) => {\r\n  const auth = useContext(AuthContext);\r\n  let active = !auth.isLoggedIn;\r\n\r\n\r\n\r\n  return (\r\n    <Grid.Row>\r\n      <Dimmer.Dimmable as={Grid} blurring dimmed={active}>\r\n        <Grid.Row columns={2} centered>\r\n          <Controls\r\n            menu={props.menu}\r\n            toppingAdded={props.toppingAdded}\r\n            toppingRemoved={props.toppingRemoved}\r\n          />\r\n          <Checkout\r\n            menu={props.menu}\r\n            toppings={props.chosenToppings}\r\n            price={props.totalPrice}\r\n            checkout={props.checkout}\r\n            disabled={props.disabled}\r\n          />\r\n        </Grid.Row>\r\n        <Dimmer active={active}>\r\n          <Header as=\"h2\" inverted>\r\n            Log in to start creating your pizza!\r\n          </Header>\r\n          <Button as={Link} to=\"/authenticate\" color=\"red\" size=\"large\">\r\n            Signup/Login\r\n          </Button>\r\n        </Dimmer>\r\n      </Dimmer.Dimmable>\r\n    </Grid.Row>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n","import React from \"react\";\r\nimport { Dimmer, Loader, Segment } from \"semantic-ui-react\";\r\n\r\nconst Loading = (props) => {\r\n  return (\r\n    <Segment>\r\n      <Dimmer active={props.active} inverted>\r\n        <Loader size=\"large\">Loading</Loader>\r\n      </Dimmer>\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { Button, Modal } from \"semantic-ui-react\";\r\n\r\nconst ErrorModal = (props) => {\r\n  const [open, setOpen] = React.useState(!!props.error);\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n    >\r\n      <Modal.Header>Something went wrong</Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n          <p>{props.error}</p>\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          content=\"Okay\"\r\n          onClick={() => {\r\n            props.onClear();\r\n            setOpen(false);\r\n          }}\r\n          color=\"red\"\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport Menu from \"../../components/Menu/Menu\";\r\nimport Order from \"../../components/Order/Order\";\r\nimport Loader from \"../../components/Feedback/Loader/Loader\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\n\r\nconst PizzaPal = (props) => {\r\n\r\n  // MENU, ERROR AND LOADING STATE AND GET TOPPINGS FROM FIREBASE\r\n  const [menuState, setMenuState] = useState({\r\n    toppings: [],\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true,\r\n    loadFailed: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/\")\r\n      .then((response) => {\r\n        let sortedToppings = response.data.toppings.sort(function (a, b) {\r\n          return a.id - b.id;\r\n        });\r\n        setMenuState({ toppings: sortedToppings });\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"There was a problem fetching the menu\";\r\n        }\r\n        setErrorState({\r\n          error: true,\r\n          errorMessage: errorMsg,\r\n        });\r\n        setLoadingState({ isLoading: false, loadFailed: menuState.loadFailed });\r\n        console.log(error.response);\r\n      });\r\n  }, []);\r\n\r\n  // ORDER STATE\r\n\r\n  // Set order state conditionally - either to old order state or starting state\r\n\r\n  const [orderState, setOrderState] = useState({\r\n    totalPrice: props.location.state\r\n      ? props.location.state.order.totalPrice\r\n      : 5,\r\n    chosenToppings: props.location.state\r\n      ? props.location.state.order.chosenToppings\r\n      : [],\r\n  });\r\n\r\n  // EVENT HANDLERS - ADD TOPPING\r\n\r\n  const addToppingHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // find the chosen topping in the menu\r\n    const menuIndex = menuState.toppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // check if the topping has already been added to the orderToppings array\r\n    const orderIndex = order.chosenToppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // if so, increase its count by 1\r\n    if (orderIndex > -1) {\r\n      order.chosenToppings[orderIndex].count++;\r\n    }\r\n    // otherwise (i.e. this topping is being added for the first time)\r\n    // create this topping and add it to the order toppings array\r\n    else {\r\n      // Save the id, name and price of the chosen topping; set its count to 1\r\n      const chosenTopping = {\r\n        id: menuState.toppings[menuIndex].id,\r\n        name: menuState.toppings[menuIndex].alt,\r\n        price: menuState.toppings[menuIndex].price,\r\n        count: 1,\r\n      };\r\n      order.chosenToppings.push(chosenTopping);\r\n    }\r\n\r\n    // Calculate the new price\r\n    const newPrice =\r\n      orderState.totalPrice + menuState.toppings[menuIndex].price;\r\n\r\n    // Update the order state with the new price and updated toppings array\r\n    setOrderState({\r\n      totalPrice: newPrice,\r\n      chosenToppings: order.chosenToppings,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - REMOVE TOPPING\r\n\r\n  const removeToppingHandler = (id) => {\r\n    let order = { ...orderState };\r\n\r\n    // Find topping with matching id from the orderToppings\r\n    const index = order.chosenToppings.findIndex(\r\n      (topping) => topping.id === id\r\n    );\r\n\r\n    // Get the current price\r\n    let price = order.totalPrice;\r\n\r\n    // If topping was found, update the price and decrease the count\r\n    if (index >= 0) {\r\n      price = price - order.chosenToppings[index].price;\r\n      order.chosenToppings[index].count--;\r\n\r\n      // If the count is now 0, remove the topping completely\r\n      if (order.chosenToppings[index].count < 1) {\r\n        order.chosenToppings.splice(index, 1);\r\n      }\r\n    }\r\n\r\n    // Update order state with updated price and updated toppings array\r\n    setOrderState({\r\n      totalPrice: price,\r\n      chosenToppings: order.chosenToppings,\r\n    });\r\n  };\r\n\r\n  // EVENT HANDLERS - CHECK OUT\r\n\r\n  const checkoutHandler = () => {\r\n    props.history.push({\r\n      pathname: \"place-order\",\r\n      state: {\r\n        order: orderState,\r\n        menu: menuState.toppings,\r\n      },\r\n    });\r\n  };\r\n\r\n  // ERROR HANDLER\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n    setLoadingState({\r\n      isLoading: false,\r\n      loadFailed: true,\r\n    });\r\n  };\r\n\r\n  // DISABLE CHECKOUT BUTTON IF NO TOPPINGS CHOSEN\r\n\r\n  let checkoutDisabled = true;\r\n\r\n  if (orderState.chosenToppings.length > 0) {\r\n    checkoutDisabled = false;\r\n  }\r\n\r\n  // DISPLAY PIZZA PAL MENU AND CONTROLS\r\n\r\n  let pizzapalMenu = errorState.error ? (\r\n    <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n  ) : (\r\n    <Loader active={loadingState.isLoading} />\r\n  );\r\n\r\n  if (menuState.toppings.length > 0) {\r\n    pizzapalMenu = (\r\n      <Grid divided=\"vertically\" stackable>\r\n        <Grid.Row centered>\r\n          <Menu menu={menuState.toppings} />\r\n        </Grid.Row>\r\n        <Order\r\n          menu={menuState.toppings}\r\n          toppingAdded={addToppingHandler}\r\n          toppingRemoved={removeToppingHandler}\r\n          chosenToppings={orderState.chosenToppings}\r\n          totalPrice={orderState.totalPrice}\r\n          checkout={checkoutHandler}\r\n          disabled={checkoutDisabled}\r\n        />\r\n      </Grid>\r\n    );\r\n  } else if (loadingState.loadFailed) {\r\n    pizzapalMenu = (\r\n      <p>\r\n        We're having some issues loading the menu... Please try again later.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  return <div>{pizzapalMenu}</div>;\r\n};\r\n\r\nexport default PizzaPal;\r\n","import React from \"react\";\r\nimport { Table, List } from \"semantic-ui-react\";\r\n\r\nconst TableRow = (props) => {\r\n  return (\r\n    <Table.Row verticalAlign=\"top\">\r\n      <Table.Cell>{props.date}</Table.Cell>\r\n      <Table.Cell>\r\n        <List>\r\n          {props.toppings.map((topping) => {\r\n            return (\r\n              <List.Item key={topping.id}>\r\n                {topping.name} : {topping.count}\r\n              </List.Item>\r\n            );\r\n          })}\r\n        </List>\r\n      </Table.Cell>\r\n      <Table.Cell>&euro;{props.price.toFixed(2)}</Table.Cell>\r\n    </Table.Row>\r\n  );\r\n};\r\n\r\nexport default TableRow;\r\n","import React from \"react\";\r\nimport { Table } from \"semantic-ui-react\";\r\n\r\nimport TableRow from \"./TableRow/TableRow\";\r\n\r\nconst OrdersTable = (props) => {\r\n  return (\r\n    <Table>\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell width={4}>Order Date</Table.HeaderCell>\r\n          <Table.HeaderCell width={8}>Pizza Description</Table.HeaderCell>\r\n          <Table.HeaderCell width={4}>Price</Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n\r\n      <Table.Body>\r\n        {props.orders.map((order) => {\r\n          return (\r\n            <TableRow\r\n              key={order.id}\r\n              toppings={order.chosenToppings}\r\n              price={order.totalPrice}\r\n              date={order.date}\r\n            />\r\n          );\r\n        })}\r\n      </Table.Body>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default OrdersTable;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport OrdersTable from \"../../components/OrdersTable/OrdersTable\";\r\nimport Loader from \"../../components/Feedback/Loader/Loader\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst YourOrders = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  // ORDER, ERROR AND LOADING STATE\r\n\r\n  const [pastOrdersState, setPastOrdersState] = useState({\r\n    orders: [],\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true,\r\n    ordersLoaded: false,\r\n    loadFailed: false,\r\n  });\r\n\r\n\r\n  // FETCH ORDERS\r\n  \r\n  useEffect(() => {\r\n    let uid = auth.userId;\r\n    let path = \"/deleteuser/\" + uid;\r\n    axios\r\n      .delete(path, { headers: { Authorization: \"Bearer \" + auth.token } })\r\n      .then((response) => {\r\n        console.log(\"User deleted!\");\r\n        auth.logout();\r\n        props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setErrorState({\r\n          error: true,\r\n          errorMessage: error.response.data.message,\r\n        });\r\n        setLoadingState({\r\n          isLoading: false,\r\n          ordersLoaded: loadingState.ordersLoaded,\r\n          loadFailed: loadingState.loadFailed,\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  // ERROR HANDLER\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n    setLoadingState({\r\n      isLoading: loadingState.isLoading,\r\n      ordersLoaded: loadingState.ordersLoaded,\r\n      loadFailed: true,\r\n    });\r\n  };\r\n\r\n  // DISPLAY ORDERS\r\n\r\n  let orders = errorState.error ? (\r\n    <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n  ) : (\r\n    <Loader active={loadingState.isLoading} />\r\n  );\r\n\r\n  if (loadingState.ordersLoaded && pastOrdersState.orders.length > 0) {\r\n    orders = <OrdersTable orders={pastOrdersState.orders} />;\r\n  } else if (loadingState.loadFailed) {\r\n    orders = <p>We can't load your orders... maybe try creating one?</p>;\r\n  }\r\n\r\n  return <div>{orders}</div>;\r\n};\r\n\r\nexport default YourOrders;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Grid, Form, Header, Segment, Select, Button } from \"semantic-ui-react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport axios from \"../../axios-orders\";\r\nimport AuthContext from \"../../context/auth-context\";\r\nimport OrderSummary from \"../../components/Order/Checkout/OrderSummary/OrderSummary\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\n\r\nconst PlaceOrder = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  // CREATE STATES\r\n  const [orderState, setOrderState] = useState({\r\n    totalPrice: props.location.state.order.totalPrice,\r\n    chosenToppings: props.location.state.order.chosenToppings,\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [customerState, setCustomerState] = useState({\r\n    details: {\r\n      name: \"\",\r\n      phone: \"\",\r\n      method: \"\",\r\n      address: \"\",\r\n    },\r\n  });\r\n\r\n  const [validationState, setValidationState] = useState({\r\n    rules: [\r\n      {\r\n        id: \"form-input-name\",\r\n        message:\r\n          \"Please enter your name (letters and spaces only, min length 2)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-phone\",\r\n        message: \"Please enter your phone number (area code and number)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-method\",\r\n        message: \"Please choose collection or delivery\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-address\",\r\n        message: \"Please enter your delivery address (house number and street)\",\r\n        required: false,\r\n        valid: true,\r\n      },\r\n    ],\r\n    formValid: false,\r\n  });\r\n\r\n  const [messageState, setMessageState] = useState({\r\n    name: null,\r\n    phone: null,\r\n    method: null,\r\n    address: null,\r\n  });\r\n\r\n  // CANCEL (GO BACK) HANDLER\r\n  const cancelHandler = () => {\r\n    props.history.push({\r\n      pathname: \"/\",\r\n      state: {\r\n        order: orderState,\r\n      },\r\n    });\r\n  };\r\n\r\n  // VALIDATE FUNCTION\r\n  const validate = (value, inputIdentifier, inputType) => {\r\n    // copy the validation state\r\n    const validation = { ...validationState };\r\n\r\n    // find the rule for this input\r\n    const inputRule = validation.rules.findIndex(\r\n      (input) => input.id === inputIdentifier\r\n    );\r\n\r\n    let message = null;\r\n\r\n    // check if it is required and also empty (for inputs only)\r\n    if (\r\n      validation.rules[inputRule].required &&\r\n      inputType === \"input\" &&\r\n      value.trim() === \"\"\r\n    ) {\r\n      // get the error message and set valid to false\r\n      message = validation.rules[inputRule].message;\r\n      validation.rules[inputRule].valid = false;\r\n    } else if (inputIdentifier === \"form-input-phone\") {\r\n      //check for a valid phone number\r\n\r\n      let pattern = /^[+]?[(]?[0-9]{3,5}[)]?[-\\s.]?[0-9]{6,7}$/;\r\n      let validNum = pattern.test(value);\r\n\r\n      if (validNum) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (inputIdentifier === \"form-input-name\") {\r\n      //check for a valid name (letters and spaces only)\r\n\r\n      let pattern = /^[A-Za-z\\s]{2,30}$/;\r\n      let validName = pattern.test(value);\r\n\r\n      if (validName) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (value === \"Delivery\") {\r\n      //set address to required\r\n      validation.rules[inputRule].valid = true;\r\n      validation.rules[3].valid = false;\r\n      validation.rules[3].required = true;\r\n    } else if (value === \"Collection\") {\r\n      //set address to not required\r\n      validation.rules[inputRule].valid = true;\r\n      validation.rules[3].required = false;\r\n      validation.rules[3].valid = true;\r\n    } else if (\r\n      validation.rules[inputRule].required &&\r\n      inputIdentifier === \"form-input-address\"\r\n    ) {\r\n      //check for a valid address (alphanumeric plus some special characters)\r\n\r\n      let pattern = /^[#.0-9a-zA-Z\\s,-]{2,50}$/;\r\n      let validAddress = pattern.test(value);\r\n\r\n      if (validAddress) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else {\r\n      // otherwise reset the message and set valid back to true\r\n      message = null;\r\n      validation.rules[inputRule].valid = true;\r\n    }\r\n\r\n    let msgState = { ...messageState };\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        msgState.name = message;\r\n        break;\r\n      case \"form-input-phone\":\r\n        msgState.phone = message;\r\n        break;\r\n      case \"form-input-method\":\r\n        msgState.method = message;\r\n        break;\r\n      case \"form-input-address\":\r\n        msgState.address = message;\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setMessageState({ ...msgState });\r\n\r\n    // check if the whole form is valid\r\n    let formIsValid = true;\r\n\r\n    for (let i in validation.rules) {\r\n      if (!validation.rules[i].valid) {\r\n        formIsValid = false;\r\n      }\r\n    }\r\n\r\n    // update state\r\n    setValidationState({ rules: validation.rules, formValid: formIsValid });\r\n  };\r\n\r\n  // FORM CHANGED HANDLER\r\n  const formChangedHandler = (event, inputIdentifier, inputType) => {\r\n    let customerDetails = customerState.details;\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        customerDetails.name = event.target.value;\r\n        validate(event.target.value, inputIdentifier, inputType);\r\n        break;\r\n      case \"form-input-phone\":\r\n        customerDetails.phone = event.target.value;\r\n        validate(event.target.value, inputIdentifier, inputType);\r\n        break;\r\n      case \"form-input-method\":\r\n        customerDetails.method = event.target.textContent;\r\n        validate(event.target.textContent, inputIdentifier, inputType);\r\n        break;\r\n      case \"form-input-address\":\r\n        customerDetails.address = event.target.value;\r\n        validate(event.target.value, inputIdentifier, inputType);\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setCustomerState({ details: customerDetails });\r\n  };\r\n\r\n  // DISABLE/ENABLE FORM SUBMIT BUTTON\r\n\r\n  let disabled = !validationState.formValid;\r\n\r\n  // CHECKOUT HANDLER\r\n\r\n  const checkoutHandler = () => {\r\n\r\n    // get order from orderState\r\n    let order = orderState;\r\n\r\n    // add unique id\r\n    order.id = uuidv4();\r\n\r\n    // create formatted date\r\n    let orderDate = new Date();\r\n\r\n    const months = [\r\n      \"Jan\",\r\n      \"Feb\",\r\n      \"Mar\",\r\n      \"Apr\",\r\n      \"May\",\r\n      \"Jun\",\r\n      \"Jul\",\r\n      \"Aug\",\r\n      \"Sep\",\r\n      \"Oct\",\r\n      \"Nov\",\r\n      \"Dec\",\r\n    ];\r\n    const days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n\r\n    let dayNum = orderDate.getDay();\r\n    let day = days[dayNum];\r\n\r\n    let monthNum = orderDate.getMonth();\r\n    let month = months[monthNum];\r\n\r\n    let date = orderDate.getDate();\r\n    let year = orderDate.getFullYear();\r\n\r\n    // saves date in the format \"Fri 19 Mar 2021\"\r\n    let formattedDate = day + \" \" + date + \" \" + month + \" \" + year;\r\n\r\n    // add formattedDate to order\r\n    order.date = formattedDate;\r\n\r\n    // add customer details to order\r\n    order.details = customerState.details;\r\n\r\n    // add user id\r\n    order.userId = auth.userId;\r\n\r\n    axios\r\n      .post(\"/checkout\", order, {\r\n        headers: { Authorization: \"Bearer \" + auth.token },\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"There was a problem creating your order\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n      });\r\n  };\r\n\r\n  // ERROR HANDLER\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n  };\r\n\r\n  // DISPLAY ERROR MODAL\r\n\r\n  let orderForm = null;\r\n\r\n  if (errorState.error) {\r\n    orderForm = (\r\n      <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n    );\r\n  } else {\r\n    orderForm = (\r\n      <Grid>\r\n        <Grid.Row columns={2}>\r\n          <Grid.Column width={6}>\r\n            <Segment color=\"red\">\r\n              <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n                Confirm your order:\r\n              </Header>\r\n              <OrderSummary\r\n                menu={props.location.state.menu}\r\n                toppings={props.location.state.order.chosenToppings}\r\n                price={props.location.state.order.totalPrice}\r\n              />\r\n              <Button color=\"red\" onClick={cancelHandler}>\r\n                Go Back\r\n              </Button>\r\n            </Segment>\r\n          </Grid.Column>\r\n\r\n          <Grid.Column width={10}>\r\n            <Segment color=\"red\">\r\n              <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n                Enter your details:\r\n              </Header>\r\n              <Form id=\"form\">\r\n                <Form.Input\r\n                  error={messageState.name}\r\n                  required\r\n                  label=\"Name\"\r\n                  placeholder=\"Name\"\r\n                  id=\"form-input-name\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-name\", \"input\")\r\n                  }\r\n                />\r\n                <Form.Input\r\n                  error={messageState.phone}\r\n                  required\r\n                  label=\"Phone\"\r\n                  placeholder=\"Phone e.g. 086-1234567\"\r\n                  id=\"form-input-phone\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-phone\", \"input\")\r\n                  }\r\n                />\r\n                <Form.Field\r\n                  control={Select}\r\n                  required\r\n                  error={messageState.method}\r\n                  label=\"Delivery method\"\r\n                  options={[\r\n                    { key: \"c\", text: \"Collection\", value: \"collection\" },\r\n                    { key: \"d\", text: \"Delivery\", value: \"delivery\" },\r\n                  ]}\r\n                  placeholder=\"Collection or Delivery\"\r\n                  id=\"form-input-method\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-method\", \"select\")\r\n                  }\r\n                />\r\n                <Form.Input\r\n                  error={messageState.address}\r\n                  required={validationState.rules[3].required}\r\n                  fluid\r\n                  label=\"Address\"\r\n                  placeholder=\"Address\"\r\n                  id=\"form-input-address\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-address\", \"input\")\r\n                  }\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"green\"\r\n                  disabled={disabled}\r\n                  onClick={checkoutHandler}\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </Form>\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  // DISPLAY ORDER SUMMARY AND FORM\r\n\r\n  return <React.Fragment>{orderForm}</React.Fragment>;\r\n};\r\n\r\nexport default withRouter(PlaceOrder);\r\n","import React from \"react\";\r\nimport { Header, Segment, Image } from \"semantic-ui-react\";\r\n\r\nconst OrderSuccess = (props) => {\r\n  return (\r\n    <Segment color=\"red\">\r\n      <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n        Your Order has been placed!\r\n      </Header>\r\n      <Image src=\"/images/delivery.gif\" size=\"medium\" centered />\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default OrderSuccess;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Grid, Form, Header, Segment, Button } from \"semantic-ui-react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\n\r\n\r\nconst Authenticate = (props) => {\r\n\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [isLoginMode, setIsLoginMode] = useState(false);\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const switchModeHandler = () => {\r\n    setIsLoginMode((prevMode) => !prevMode);\r\n    setAuthDetailsState({\r\n      details: {\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n    });\r\n    setValidationState({\r\n      rules: [\r\n        {\r\n          id: \"form-input-name\",\r\n          message:\r\n            \"Please enter your name (letters and spaces only, min length 2)\",\r\n          required: true,\r\n          valid: false,\r\n        },\r\n        {\r\n          id: \"form-input-email\",\r\n          message:\r\n            \"Please enter a valid email address (something@something.something)\",\r\n          required: true,\r\n          valid: false,\r\n        },\r\n        {\r\n          id: \"form-input-password\",\r\n          message:\r\n            \"Please enter a password (letters and numbers only, min length 6)\",\r\n          required: true,\r\n          valid: false,\r\n        },\r\n      ],\r\n      formValid: false,\r\n    });\r\n    document.getElementById(\"form\").reset();\r\n  };\r\n\r\n  const [authDetailsState, setAuthDetailsState] = useState({\r\n    details: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n  });\r\n\r\n  const [validationState, setValidationState] = useState({\r\n    rules: [\r\n      {\r\n        id: \"form-input-name\",\r\n        message:\r\n          \"Please enter your name (letters and spaces only, min length 2)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-email\",\r\n        message:\r\n          \"Please enter a valid email address (something@something.something)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-password\",\r\n        message:\r\n          \"Please enter a password (letters and numbers only, min length 6)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n    ],\r\n    formValid: false,\r\n  });\r\n\r\n  const [messageState, setMessageState] = useState({\r\n    name: null,\r\n    email: null,\r\n    address: null,\r\n  });\r\n\r\n  const validate = (value, inputIdentifier) => {\r\n    // copy the validation state\r\n    const validation = { ...validationState };\r\n\r\n    // find the rule for this input\r\n    const inputRule = validation.rules.findIndex(\r\n      (input) => input.id === inputIdentifier\r\n    );\r\n\r\n    let message = null;\r\n\r\n    // check if it is required and also empty\r\n    if (validation.rules[inputRule].required && value.trim() === \"\") {\r\n      // get the error message and set valid to false\r\n      message = validation.rules[inputRule].message;\r\n      validation.rules[inputRule].valid = false;\r\n    } else if (inputIdentifier === \"form-input-email\") {\r\n      //check for a valid email\r\n\r\n      let pattern = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;\r\n      let validEmail = pattern.test(value);\r\n\r\n      if (validEmail) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (inputIdentifier === \"form-input-password\") {\r\n      //check for a valid password, letters and numbers only, 6 characters min\r\n\r\n      let pattern = /^[A-Za-z0-9\\s]{6,}$/;\r\n      let validPassword = pattern.test(value);\r\n\r\n      if (validPassword) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (\r\n      validation.rules[inputRule].required &&\r\n      inputIdentifier === \"form-input-name\"\r\n    ) {\r\n      //check for a valid name (letters and spaces only)\r\n\r\n      let pattern = /^[A-Za-z\\s]{2,30}$/;\r\n      let validName = pattern.test(value);\r\n\r\n      if (validName) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else {\r\n      // otherwise reset the message and set valid back to true\r\n      message = null;\r\n      validation.rules[inputRule].valid = true;\r\n    }\r\n\r\n    let msgState = { ...messageState };\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        msgState.name = message;\r\n        break;\r\n      case \"form-input-email\":\r\n        msgState.email = message;\r\n        break;\r\n      case \"form-input-password\":\r\n        msgState.password = message;\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setMessageState({ ...msgState });\r\n\r\n    // check if the whole form is valid\r\n    let formIsValid = true;\r\n\r\n    for (let i in validation.rules) {\r\n      if (isLoginMode && i == 0) {\r\n        continue;\r\n      }\r\n\r\n      if (!validation.rules[i].valid) {\r\n        formIsValid = false;\r\n      }\r\n    }\r\n\r\n    // update state\r\n    setValidationState({ rules: validation.rules, formValid: formIsValid });\r\n  };\r\n\r\n  const formChangedHandler = (event, inputIdentifier) => {\r\n    let authDetails = authDetailsState.details;\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        authDetails.name = event.target.value;\r\n        validate(event.target.value, inputIdentifier);\r\n        break;\r\n      case \"form-input-email\":\r\n        authDetails.email = event.target.value;\r\n        validate(event.target.value, inputIdentifier);\r\n        break;\r\n      case \"form-input-password\":\r\n        let password = event.target.value;\r\n        let trimmedPassword = password.trim();\r\n        authDetails.password = trimmedPassword;\r\n        validate(trimmedPassword, inputIdentifier);\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setAuthDetailsState({ details: authDetails });\r\n  };\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n  };\r\n\r\n  const signupHandler = () => {\r\n    axios\r\n      .post(\"/signup\", authDetailsState.details)\r\n      .then((response) => {\r\n        auth.login(response.data.userId, response.data.token);\r\n        props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"Something went wrong - signup failed\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n      });\r\n  };\r\n\r\n  const loginHandler = () => {\r\n    axios\r\n      .post(\"/login\", authDetailsState.details)\r\n      .then((response) => {\r\n        auth.login(response.data.userId, response.data.token);\r\n        props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"Something went wrong - login failed\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n      });\r\n  };\r\n\r\n  let disabled = !validationState.formValid;\r\n\r\n  let signupBtnColor = \"grey\";\r\n  let loginBtnColor = \"grey\";\r\n\r\n  let authForm = null;\r\n\r\n  if (errorState.error) {\r\n    authForm = (\r\n      <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n    );\r\n  } else {\r\n    if (isLoginMode) {\r\n      authForm = (\r\n        <Segment color=\"red\">\r\n          <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n            Already registered? Log In!\r\n          </Header>\r\n          <Form id=\"form\">\r\n            <Form.Input\r\n              error={messageState.email}\r\n              autoComplete=\"off\"\r\n              required\r\n              label=\"Email\"\r\n              placeholder=\"Email e.g. username@mail.com\"\r\n              id=\"form-input-email\"\r\n              onChange={(event) =>\r\n                formChangedHandler(event, \"form-input-email\")\r\n              }\r\n            />\r\n            <Form.Input\r\n              error={messageState.password}\r\n              type=\"password\"\r\n              autoComplete=\"off\"\r\n              required\r\n              label=\"Password\"\r\n              placeholder=\"Password\"\r\n              id=\"form-input-password\"\r\n              onChange={(event) =>\r\n                formChangedHandler(event, \"form-input-password\")\r\n              }\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"green\"\r\n              disabled={disabled}\r\n              onClick={loginHandler}\r\n            >\r\n              Log In\r\n            </Button>\r\n          </Form>\r\n        </Segment>\r\n      );\r\n      loginBtnColor = \"red\";\r\n    } else {\r\n      authForm = (\r\n        <Segment color=\"red\">\r\n          <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n            First time here? Sign Up!\r\n          </Header>\r\n          <Form id=\"form\">\r\n            <Form.Input\r\n              error={messageState.email}\r\n              autoComplete=\"off\"\r\n              required\r\n              label=\"Email\"\r\n              placeholder=\"Email e.g. username@mail.com\"\r\n              id=\"form-input-email\"\r\n              onChange={(event) =>\r\n                formChangedHandler(event, \"form-input-email\")\r\n              }\r\n            />\r\n            <Form.Input\r\n              error={messageState.password}\r\n              type=\"password\"\r\n              autoComplete=\"off\"\r\n              required\r\n              label=\"Password\"\r\n              placeholder=\"Password\"\r\n              id=\"form-input-password\"\r\n              onChange={(event) =>\r\n                formChangedHandler(event, \"form-input-password\")\r\n              }\r\n            />\r\n            <Form.Input\r\n              error={messageState.name}\r\n              autoComplete=\"off\"\r\n              required\r\n              label=\"Name\"\r\n              placeholder=\"Name\"\r\n              id=\"form-input-name\"\r\n              onChange={(event) => formChangedHandler(event, \"form-input-name\")}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"green\"\r\n              disabled={disabled}\r\n              onClick={signupHandler}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n          </Form>\r\n        </Segment>\r\n      );\r\n      signupBtnColor = \"red\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid>\r\n      <Grid.Row centered>\r\n        <Grid.Column width={10}>\r\n          <Button.Group widths=\"2\">\r\n            <Button\r\n              size=\"large\"\r\n              color={signupBtnColor}\r\n              onClick={switchModeHandler}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Button.Or />\r\n            <Button\r\n              size=\"large\"\r\n              color={loginBtnColor}\r\n              onClick={switchModeHandler}\r\n            >\r\n              Log In\r\n            </Button>\r\n          </Button.Group>\r\n          {authForm}\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Authenticate;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Grid, Header, Segment, List, Image, Button, Icon, Confirm } from \"semantic-ui-react\";\r\nimport axios from \"../../axios-orders\";\r\n\r\nimport Loader from \"../../components/Feedback/Loader/Loader\";\r\nimport ErrorModal from \"../../components/Feedback/ErrorModal/ErrorModal\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst YourAccount = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  // ACCOUNT, ERROR AND LOADING STATE\r\n  const [accountState, setAccountState] = useState({\r\n    user: null,\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [loadingState, setLoadingState] = useState({\r\n    isLoading: true,\r\n    loadFailed: false,\r\n  });\r\n\r\n  // Manage state of confirm deletion dialog\r\n  const [confirmState, setConfirmState] = useState({ open: false });\r\n  const open = () => setConfirmState({ open: true });\r\n  const close = () => setConfirmState({ open: false });\r\n\r\n  // FETCH ACCOUNT DETAILS\r\n  useEffect(() => {\r\n    let uid = auth.userId; \r\n    let path = \"/users/\" + uid;\r\n    axios.get(path, { headers: { Authorization: \"Bearer \" + auth.token } })\r\n      .then((response) => {\r\n        setAccountState({ user: response.data.user });\r\n      })\r\n      .catch((error) => {\r\n        setErrorState({\r\n          error: true,\r\n          errorMessage: error.response.data.message,\r\n        });\r\n        setLoadingState({\r\n          isLoading: false,\r\n          loadFailed: loadingState.loadFailed,\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  // UPDATE AND DELETE HANDLERS\r\n  const updateHandler = () => {\r\n    props.history.push({\r\n      pathname: \"/update-account\",\r\n      state: {\r\n        user: accountState.user,\r\n      },\r\n    });\r\n  };\r\n\r\n  const deleteHandler = () => {\r\n    let uid = \"12345678\";\r\n    let path = \"/deleteuser/\" + uid;\r\n    axios\r\n      .delete(path)\r\n      .then((response) => {\r\n        console.log(\"User deleted!\");\r\n        props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"There was a problem deleting your account\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n      });\r\n  };\r\n\r\n  // ERROR HANDLER\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n    setLoadingState({\r\n      isLoading: false,\r\n      loadFailed: true,\r\n    });\r\n  };\r\n\r\n  // DISPLAY ACCOUNT\r\n  let account = errorState.error ? (\r\n    <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n  ) : (\r\n    <Loader active={loadingState.isLoading} />\r\n  );\r\n\r\n  if (accountState.user && !errorState.error) {\r\n    account = (\r\n      <Grid>\r\n        <Grid.Row centered>\r\n          <Grid.Column width={10}>\r\n            <Segment color=\"red\">\r\n              <Grid divided>\r\n                <Grid.Column width={8}>\r\n                  <Header as=\"h3\" textAlign=\"center\" color=\"red\">\r\n                    Your Details\r\n                  </Header>\r\n                  <List>\r\n                    <List.Item>\r\n                      <List.Icon name=\"user\" />\r\n                      <List.Content>\r\n                        <b>Name: {accountState.user.name} </b>\r\n                      </List.Content>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                      <List.Icon name=\"mail\" />\r\n                      <List.Content>\r\n                        <b>Email: {accountState.user.email} </b>\r\n                      </List.Content>\r\n                    </List.Item>\r\n                    <List.Item>\r\n                      <List.Icon name=\"lock\" />\r\n                      <List.Content>\r\n                        <b>Password: </b>{\" \"}\r\n                        &#9642;&#9642;&#9642;&#9642;&#9642;&#9642;{\" \"}\r\n                      </List.Content>\r\n                    </List.Item>\r\n                  </List>\r\n                  <div className=\"accountButtons\">\r\n                    <Button\r\n                      icon\r\n                      labelPosition=\"left\"\r\n                      color=\"orange\"\r\n                      onClick={updateHandler}\r\n                    >\r\n                      <Icon name=\"pencil\" />\r\n                      Update Your Details\r\n                    </Button>\r\n                    <br />\r\n                    <br />\r\n                    <Button\r\n                      icon\r\n                      labelPosition=\"left\"\r\n                      color=\"red\"\r\n                      onClick={open}\r\n                    >\r\n                      Delete Your Account\r\n                      <Icon name=\"trash\" />\r\n                    </Button>\r\n                    <Confirm\r\n                      open={confirmState.open}\r\n                      onCancel={close}\r\n                      onConfirm={deleteHandler}\r\n                      header=\"Are you sure?\"\r\n                      content=\"Deleting your account is a permanent action and cannot be undone\"\r\n                      cancelButton=\"Take me back\"\r\n                      confirmButton=\"Yes, delete my account permanently\"\r\n                    />\r\n                  </div>\r\n                </Grid.Column>\r\n                <Grid.Column width={8} textAlign=\"center\">\r\n                  <Image\r\n                    src=\"https://img.jamieoliver.com/jamieoliver/recipe-database/oldImages/large/1474_2_1430128688.jpg?tr=w-800,h-1066\"\r\n                    rounded\r\n                    size=\"large\"\r\n                  />\r\n                </Grid.Column>\r\n              </Grid>\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  } else if (loadingState.loadFailed) {\r\n    account = <p>User can't be found</p>;\r\n  }\r\n\r\n  return <React.Fragment>{account}</React.Fragment>;\r\n};\r\n\r\nexport default YourAccount;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Grid, Form, Header, Segment, Button } from \"semantic-ui-react\";\r\nimport axios from \"../../../axios-orders\";\r\n\r\nimport ErrorModal from \"../../../components/Feedback/ErrorModal/ErrorModal\";\r\nimport AuthContext from \"../../../context/auth-context\";\r\n\r\nconst AccountUpdate = (props) => {\r\n  const auth = useContext(AuthContext);\r\n\r\n  const [accountState, setAccountState] = useState({\r\n    user: props.history.location.state.user,\r\n  });\r\n\r\n  const [errorState, setErrorState] = useState({\r\n    error: false,\r\n    errorMessage: null,\r\n  });\r\n\r\n  const [validationState, setValidationState] = useState({\r\n    rules: [\r\n      {\r\n        id: \"form-input-name\",\r\n        message:\r\n          \"Please enter your name (letters and spaces only, min length 2)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-email\",\r\n        message:\r\n          \"Please enter a valid email address (something@something.something)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n      {\r\n        id: \"form-input-password\",\r\n        message:\r\n          \"Please enter a password (letters and numbers only, min length 6)\",\r\n        required: true,\r\n        valid: false,\r\n      },\r\n    ],\r\n    formValid: false,\r\n  });\r\n\r\n  const [messageState, setMessageState] = useState({\r\n    name: null,\r\n    email: null,\r\n    address: null,\r\n  });\r\n\r\n  const validate = (value, inputIdentifier) => {\r\n    // copy the validation state\r\n    const validation = { ...validationState };\r\n\r\n    // find the rule for this input\r\n    const inputRule = validation.rules.findIndex(\r\n      (input) => input.id === inputIdentifier\r\n    );\r\n\r\n    let message = null;\r\n\r\n    // check if it is required and also empty\r\n    if (validation.rules[inputRule].required && value.trim() === \"\") {\r\n      // get the error message and set valid to false\r\n      message = validation.rules[inputRule].message;\r\n      validation.rules[inputRule].valid = false;\r\n    } else if (inputIdentifier === \"form-input-email\") {\r\n      //check for a valid email\r\n\r\n      let pattern = /^[^@\\s]+@[^@\\s]+\\.[^@\\s]+$/;\r\n      let validEmail = pattern.test(value);\r\n\r\n      if (validEmail) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (inputIdentifier === \"form-input-password\") {\r\n      //check for a valid password, letters and numbers only, 6 characters min\r\n\r\n      let pattern = /^[A-Za-z0-9\\s]{6,}$/;\r\n      let validPassword = pattern.test(value);\r\n\r\n      if (validPassword) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else if (\r\n      validation.rules[inputRule].required &&\r\n      inputIdentifier === \"form-input-name\"\r\n    ) {\r\n      //check for a valid name (letters and spaces only)\r\n\r\n      let pattern = /^[A-Za-z\\s]{2,30}$/;\r\n      let validName = pattern.test(value);\r\n\r\n      if (validName) {\r\n        validation.rules[inputRule].valid = true;\r\n      } else {\r\n        validation.rules[inputRule].valid = false;\r\n        message = validation.rules[inputRule].message;\r\n      }\r\n    } else {\r\n      // otherwise reset the message and set valid back to true\r\n      message = null;\r\n      validation.rules[inputRule].valid = true;\r\n    }\r\n\r\n    let msgState = { ...messageState };\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        msgState.name = message;\r\n        break;\r\n      case \"form-input-email\":\r\n        msgState.email = message;\r\n        break;\r\n      case \"form-input-password\":\r\n        msgState.password = message;\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setMessageState({ ...msgState });\r\n\r\n    // check if the whole form is valid\r\n    let formIsValid = true;\r\n\r\n    for (let i in validation.rules) {\r\n      if (!validation.rules[i].valid) {\r\n        formIsValid = false;\r\n      }\r\n    }\r\n\r\n    // update state\r\n    setValidationState({ rules: validation.rules, formValid: formIsValid });\r\n  };\r\n\r\n  const formChangedHandler = (event, inputIdentifier) => {\r\n    let userDetails = accountState.user;\r\n\r\n    switch (inputIdentifier) {\r\n      case \"form-input-name\":\r\n        userDetails.name = event.target.value;\r\n        validate(event.target.value, inputIdentifier);\r\n        break;\r\n      case \"form-input-email\":\r\n        userDetails.email = event.target.value;\r\n        validate(event.target.value, inputIdentifier);\r\n        break;\r\n      case \"form-input-password\":\r\n        let password = event.target.value;\r\n        let trimmedPassword = password.trim();\r\n        userDetails.password = trimmedPassword;\r\n        validate(trimmedPassword, inputIdentifier);\r\n        break;\r\n      default:\r\n      // code block\r\n    }\r\n\r\n    setAccountState({ user: userDetails });\r\n  };\r\n\r\n  const updateHandler = () => {\r\n    let uid = auth.userId;\r\n    let path = \"/updateuser/\" + uid;\r\n    axios\r\n      .put(path, accountState.user, {\r\n        headers: { Authorization: \"Bearer \" + auth.token },\r\n      })\r\n      .then((response) => {\r\n        props.history.push(\"/users/\" + auth.userId);\r\n      })\r\n      .catch((error) => {\r\n        let errorMsg = \"\";\r\n        if (error.response) {\r\n          errorMsg = error.response.data.message;\r\n        } else {\r\n          errorMsg = \"There was a problem updating your account\";\r\n        }\r\n        setErrorState({ error: true, errorMessage: errorMsg });\r\n      });\r\n  };\r\n\r\n  let disabled = !validationState.formValid;\r\n\r\n  const errorHandler = () => {\r\n    setErrorState({\r\n      error: false,\r\n      errorMessage: null,\r\n    });\r\n  };\r\n\r\n  let updateForm = null;\r\n\r\n  if (errorState.error) {\r\n    updateForm = (\r\n      <ErrorModal error={errorState.errorMessage} onClear={errorHandler} />\r\n    );\r\n  } else {\r\n    updateForm = (\r\n      <Grid>\r\n        <Grid.Row centered>\r\n          <Grid.Column width={10}>\r\n            <Segment color=\"red\">\r\n              <Header as=\"h2\" textAlign=\"center\" color=\"red\">\r\n                Update Your Details\r\n              </Header>\r\n              <Form id=\"form\">\r\n                <Form.Input\r\n                  error={messageState.email}\r\n                  autoComplete=\"off\"\r\n                  required\r\n                  label=\"Email\"\r\n                  placeholder=\"Email e.g. username@mail.com\"\r\n                  id=\"form-input-email\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-email\")\r\n                  }\r\n                />\r\n                <Form.Input\r\n                  error={messageState.password}\r\n                  type=\"password\"\r\n                  autoComplete=\"off\"\r\n                  required\r\n                  label=\"Password\"\r\n                  placeholder=\"Password\"\r\n                  id=\"form-input-password\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-password\")\r\n                  }\r\n                />\r\n                <Form.Input\r\n                  error={messageState.name}\r\n                  autoComplete=\"off\"\r\n                  required\r\n                  label=\"Name\"\r\n                  placeholder=\"Name\"\r\n                  id=\"form-input-name\"\r\n                  onChange={(event) =>\r\n                    formChangedHandler(event, \"form-input-name\")\r\n                  }\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"green\"\r\n                  disabled={disabled}\r\n                  onClick={updateHandler}\r\n                >\r\n                  Update Details\r\n                </Button>\r\n              </Form>\r\n            </Segment>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    );\r\n  }\r\n\r\n  return <React.Fragment>{updateForm}</React.Fragment>;\r\n};\r\n\r\nexport default AccountUpdate;\r\n","import React, { useCallback, useState, useEffect } from \"react\";\r\nimport { Container } from \"semantic-ui-react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\n\r\nimport \"./Layout.css\";\r\n\r\nimport Nav from \"../Nav/Nav\";\r\nimport PizzaPal from \"../../containers/PizzaPal/PizzaPal\";\r\nimport YourOrders from \"../../containers/YourOrders/YourOrders\";\r\nimport PlaceOrder from \"../../containers/PlaceOrder/PlaceOrder\";\r\nimport OrderSuccess from \"../../containers/PlaceOrder/OrderSuccess/OrderSuccess\";\r\nimport Authenticate from \"../../containers/Authenticate/Authenticate\";\r\nimport YourAccount from \"../../containers/YourAccount/YourAccount\";\r\nimport AccountUpdate from \"../../containers/YourAccount/AccountUpdate/AccountUpdate\";\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\nconst Layout = (props) => {\r\n\r\n  const [loggedInState, setLoggedInState] = useState({isLoggedIn: false});\r\n  const [token, setToken] = useState(false);\r\n  const [userId, setUserId] = useState(false);\r\n  const history = useHistory;\r\n  const login = useCallback((uid, token) => {\r\n    setToken(token);\r\n    setUserId(uid);\r\n    localStorage.setItem(\r\n      \"userData\",\r\n      JSON.stringify({\r\n        userId: uid,\r\n        token: token\r\n      })\r\n    );\r\n  }, []);\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null);\r\n    setUserId(null);\r\n    localStorage.removeItem(\"userData\");\r\n    history.push(\"/\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n    if ( storedData && storedData.token ) {\r\n      login(storedData.userId, storedData.token);\r\n    }\r\n  }, [login]);\r\n\r\n  let routes;\r\n  if (token) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={PizzaPal} />\r\n        <Route path=\"/orders/:uid\" component={YourOrders} />\r\n        <Route path=\"/place-order\" component={PlaceOrder} />\r\n        <Route path=\"/order-success\" component={OrderSuccess} />\r\n        <Route path=\"/users/:uid\" component={YourAccount} />\r\n        <Route path=\"/update-account\" component={AccountUpdate} />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact component={PizzaPal} />\r\n        <Route path=\"/authenticate\" component={Authenticate} />\r\n      </Switch>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isLoggedIn: !!token,\r\n        token: token,\r\n        userId: userId,\r\n        login: login,\r\n        logout: logout,\r\n      }}\r\n    >\r\n      <Container>\r\n        <Nav />\r\n        {routes}\r\n      </Container>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { BrowserRouter } from 'react-router-dom';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nimport Layout from './components/Layout/Layout';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n        <Layout />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\n\r\nReactDOM.render(\r\n\r\n  <React.StrictMode>\r\n      <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}