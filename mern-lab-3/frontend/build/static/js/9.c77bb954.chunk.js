(this.webpackJsonppizzapal=this.webpackJsonppizzapal||[]).push([[9],{231:function(e,a,t){"use strict";t.r(a);var c=t(20),r=t(0),l=t.n(r),s=t(107),n=t(1),i=t(32),d=t(3),o=(t(6),t(14)),b=t(80),j=t(81),O=t(4);function u(e){var a=e.children,t=e.className,c=Object(d.a)(t),r=Object(b.a)(u,e),s=Object(j.a)(u,e);return l.a.createElement(s,Object(n.a)({},r,{className:c}),a)}u.handledProps=["as","children","className"],u.defaultProps={as:"tbody"},u.propTypes={};var p=u,h=t(135),g=t(44);function f(e){var a=e.active,t=e.children,c=e.className,r=e.collapsing,s=e.content,i=e.disabled,u=e.error,p=e.icon,h=e.negative,v=e.positive,m=e.selectable,x=e.singleLine,w=e.textAlign,N=e.verticalAlign,P=e.warning,A=e.width,y=Object(d.a)(Object(o.a)(a,"active"),Object(o.a)(r,"collapsing"),Object(o.a)(i,"disabled"),Object(o.a)(u,"error"),Object(o.a)(h,"negative"),Object(o.a)(v,"positive"),Object(o.a)(m,"selectable"),Object(o.a)(x,"single line"),Object(o.a)(P,"warning"),Object(o.d)(w),Object(o.f)(N),Object(o.g)(A,"wide"),c),L=Object(b.a)(f,e),E=Object(j.a)(f,e);return O.a.isNil(t)?l.a.createElement(E,Object(n.a)({},L,{className:y}),g.a.create(p),s):l.a.createElement(E,Object(n.a)({},L,{className:y}),t)}f.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],f.defaultProps={as:"td"},f.propTypes={},f.create=Object(h.d)(f,(function(e){return{content:e}}));var v=f;function m(e){var a=e.children,t=e.className,c=e.content,r=e.fullWidth,s=Object(d.a)(Object(o.a)(r,"full-width"),t),i=Object(b.a)(m,e),u=Object(j.a)(m,e);return l.a.createElement(u,Object(n.a)({},i,{className:s}),O.a.isNil(a)?c:a)}m.handledProps=["as","children","className","content","fullWidth"],m.defaultProps={as:"thead"},m.propTypes={};var x=m;function w(e){var a=e.as,t=Object(b.a)(w,e);return l.a.createElement(x,Object(n.a)({},t,{as:a}))}w.handledProps=["as"],w.propTypes={},w.defaultProps={as:"tfoot"};var N=w;function P(e){var a=e.as,t=e.className,c=e.sorted,r=Object(d.a)(Object(o.e)(c,"sorted"),t),s=Object(b.a)(P,e);return l.a.createElement(v,Object(n.a)({},s,{as:a,className:r}))}P.handledProps=["as","className","sorted"],P.propTypes={},P.defaultProps={as:"th"};var A=P;function y(e){var a=e.active,t=e.cellAs,c=e.cells,r=e.children,s=e.className,u=e.disabled,p=e.error,h=e.negative,g=e.positive,f=e.textAlign,m=e.verticalAlign,x=e.warning,w=Object(d.a)(Object(o.a)(a,"active"),Object(o.a)(u,"disabled"),Object(o.a)(p,"error"),Object(o.a)(h,"negative"),Object(o.a)(g,"positive"),Object(o.a)(x,"warning"),Object(o.d)(f),Object(o.f)(m),s),N=Object(b.a)(y,e),P=Object(j.a)(y,e);return O.a.isNil(r)?l.a.createElement(P,Object(n.a)({},N,{className:w}),Object(i.a)(c,(function(e){return v.create(e,{defaultProps:{as:t}})}))):l.a.createElement(P,Object(n.a)({},N,{className:w}),r)}y.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],y.defaultProps={as:"tr",cellAs:"td"},y.propTypes={},y.create=Object(h.d)(y,(function(e){return{cells:e}}));var L=y;function E(e){var a=e.attached,t=e.basic,c=e.celled,r=e.children,s=e.className,u=e.collapsing,h=e.color,g=e.columns,f=e.compact,v=e.definition,m=e.fixed,w=e.footerRow,P=e.headerRow,A=e.headerRows,y=e.inverted,R=e.padded,C=e.renderBodyRow,k=e.selectable,z=e.singleLine,T=e.size,F=e.sortable,H=e.stackable,B=e.striped,D=e.structured,M=e.tableData,S=e.textAlign,W=e.unstackable,I=e.verticalAlign,J=Object(d.a)("ui",h,T,Object(o.a)(c,"celled"),Object(o.a)(u,"collapsing"),Object(o.a)(v,"definition"),Object(o.a)(m,"fixed"),Object(o.a)(y,"inverted"),Object(o.a)(k,"selectable"),Object(o.a)(z,"single line"),Object(o.a)(F,"sortable"),Object(o.a)(H,"stackable"),Object(o.a)(B,"striped"),Object(o.a)(D,"structured"),Object(o.a)(W,"unstackable"),Object(o.b)(a,"attached"),Object(o.b)(t,"basic"),Object(o.b)(f,"compact"),Object(o.b)(R,"padded"),Object(o.d)(S),Object(o.f)(I),Object(o.g)(g,"column"),"table",s),U=Object(b.a)(E,e),q=Object(j.a)(E,e);if(!O.a.isNil(r))return l.a.createElement(q,Object(n.a)({},U,{className:J}),r);var G={defaultProps:{cellAs:"th"}},K=(P||A)&&l.a.createElement(x,null,L.create(P,G),Object(i.a)(A,(function(e){return L.create(e,G)})));return l.a.createElement(q,Object(n.a)({},U,{className:J}),K,l.a.createElement(p,null,C&&Object(i.a)(M,(function(e,a){return L.create(C(e,a))}))),w&&l.a.createElement(N,null,L.create(w)))}E.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],E.defaultProps={as:"table"},E.propTypes={},E.Body=p,E.Cell=v,E.Footer=N,E.Header=x,E.HeaderCell=A,E.Row=L;var R=E,C=t(147),k=t(2),z=function(e){return Object(k.jsxs)(R.Row,{verticalAlign:"top",children:[Object(k.jsx)(R.Cell,{children:e.date}),Object(k.jsx)(R.Cell,{children:Object(k.jsx)(C.a,{children:e.toppings.map((function(e){return Object(k.jsxs)(C.a.Item,{children:[e.name," : ",e.count]},e.id)}))})}),Object(k.jsxs)(R.Cell,{children:["\u20ac",e.price.toFixed(2)]})]})},T=function(e){return Object(k.jsxs)(R,{children:[Object(k.jsx)(R.Header,{children:Object(k.jsxs)(R.Row,{children:[Object(k.jsx)(R.HeaderCell,{width:4,children:"Order Date"}),Object(k.jsx)(R.HeaderCell,{width:8,children:"Pizza Description"}),Object(k.jsx)(R.HeaderCell,{width:4,children:"Price"})]})}),Object(k.jsx)(R.Body,{children:e.orders.map((function(e){return Object(k.jsx)(z,{toppings:e.chosenToppings,price:e.totalPrice,date:e.date},e.id)}))})]})},F=t(68),H=t(108),B=t(51);a.default=function(e){var a=Object(r.useContext)(B.a),t=Object(r.useState)({orders:[]}),l=Object(c.a)(t,2),n=l[0],i=(l[1],Object(r.useState)({error:!1,errorMessage:null})),d=Object(c.a)(i,2),o=d[0],b=d[1],j=Object(r.useState)({isLoading:!0,ordersLoaded:!1,loadFailed:!1}),O=Object(c.a)(j,2),u=O[0],p=O[1];Object(r.useEffect)((function(){var t="/deleteuser/"+a.userId;s.a.delete(t,{headers:{Authorization:"Bearer "+a.token}}).then((function(t){console.log("User deleted!"),a.logout(),e.history.push("/")})).catch((function(e){b({error:!0,errorMessage:e.response.data.message}),p({isLoading:!1,ordersLoaded:u.ordersLoaded,loadFailed:u.loadFailed})}))}),[]);var h=o.error?Object(k.jsx)(H.a,{error:o.errorMessage,onClear:function(){b({error:!1,errorMessage:null}),p({isLoading:u.isLoading,ordersLoaded:u.ordersLoaded,loadFailed:!0})}}):Object(k.jsx)(F.a,{active:u.isLoading});return u.ordersLoaded&&n.orders.length>0?h=Object(k.jsx)(T,{orders:n.orders}):u.loadFailed&&(h=Object(k.jsx)("p",{children:"We can't load your orders... maybe try creating one?"})),Object(k.jsx)("div",{children:h})}}}]);
//# sourceMappingURL=9.c77bb954.chunk.js.map